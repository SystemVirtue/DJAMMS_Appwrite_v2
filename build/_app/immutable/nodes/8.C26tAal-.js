import{S as al,i as nl,s as il,q as _t,r as Z,u as C,v as x,w as ee,x as se,y as te,z as Ht,A as Fl,B as zl,C as Gl,D as ql,d as m,E as zt,G as Ge,J as Ze,e as c,a as $e,F as mt,K as be,X as yl,b as Te,c as l,H as Pe,Y as Xl,h as Zl,f as $,g as f,j as v,k as ke,l as R,m as w,o as d,t as W,L as xl,p as es,M as ts,N as El,I as qe,n as pt,P as ol,Q as vt,Z as ls}from"../chunks/BdqU9rtY.js";import{g as ss}from"../chunks/BzC_WLbs.js";import{I as Ql,g as Rl,a as Wl,e as gt}from"../chunks/Dp8WnmVE.js";import"../chunks/IHki7fMi.js";import{d as Ct,v as rs}from"../chunks/zxdJXzVg.js";import{p as as}from"../chunks/C0okxqSP.js";import{w as ns}from"../chunks/BGpGyOKF.js";import{P as is,p as sl,M as os}from"../chunks/DfTSbLdx.js";import{g as cs}from"../chunks/Di-L13FK.js";import{L as Gt,C as us,P as Yl,S as Jl,a as cl}from"../chunks/Dfsxi7tz.js";import{S as fs}from"../chunks/rS_xTXPS.js";import{A as ds}from"../chunks/CvKChqYc.js";import{W as hs}from"../chunks/CZyi-2bT.js";import{C as Cl}from"../chunks/Txwu-AoB.js";import{W as ms}from"../chunks/C1wWesEz.js";import{M as qt}from"../chunks/V5CP_TY7.js";import{C as Qt}from"../chunks/CHZjk8_N.js";import{U as Kl}from"../chunks/CecWn9R4.js";import{P as Rt}from"../chunks/OiUjXaK0.js";function ps(r){let e;const t=r[2].default,s=Fl(t,r,r[3],null);return{c(){s&&s.c()},l(o){s&&s.l(o)},m(o,u){s&&s.m(o,u),e=!0},p(o,u){s&&s.p&&(!e||u&8)&&zl(s,t,o,o[3],e?ql(t,o[3],u,null):Gl(o[3]),null)},i(o){e||(x(s,o),e=!0)},o(o){C(s,o),e=!1},d(o){s&&s.d(o)}}}function _s(r){let e,t;const s=[{name:"trash-2"},r[1],{iconNode:r[0]}];let o={$$slots:{default:[ps]},$$scope:{ctx:r}};for(let u=0;u<s.length;u+=1)o=_t(o,s[u]);return e=new Ql({props:o}),{c(){te(e.$$.fragment)},l(u){se(e.$$.fragment,u)},m(u,n){ee(e,u,n),t=!0},p(u,[n]){const _=n&3?Rl(s,[s[0],n&2&&Wl(u[1]),n&1&&{iconNode:u[0]}]):{};n&8&&(_.$$scope={dirty:n,ctx:u}),e.$set(_)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){C(e.$$.fragment,u),t=!1},d(u){Z(e,u)}}}function vs(r,e,t){let{$$slots:s={},$$scope:o}=e;const u=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];return r.$$set=n=>{t(1,e=_t(_t({},e),Ht(n))),"$$scope"in n&&t(3,o=n.$$scope)},e=Ht(e),[u,e,s,o]}class gs extends al{constructor(e){super(),nl(this,e,vs,_s,il,{})}}function bs(r){let e;const t=r[2].default,s=Fl(t,r,r[3],null);return{c(){s&&s.c()},l(o){s&&s.l(o)},m(o,u){s&&s.m(o,u),e=!0},p(o,u){s&&s.p&&(!e||u&8)&&zl(s,t,o,o[3],e?ql(t,o[3],u,null):Gl(o[3]),null)},i(o){e||(x(s,o),e=!0)},o(o){C(s,o),e=!1},d(o){s&&s.d(o)}}}function $s(r){let e,t;const s=[{name:"unlock"},r[1],{iconNode:r[0]}];let o={$$slots:{default:[bs]},$$scope:{ctx:r}};for(let u=0;u<s.length;u+=1)o=_t(o,s[u]);return e=new Ql({props:o}),{c(){te(e.$$.fragment)},l(u){se(e.$$.fragment,u)},m(u,n){ee(e,u,n),t=!0},p(u,[n]){const _=n&3?Rl(s,[s[0],n&2&&Wl(u[1]),n&1&&{iconNode:u[0]}]):{};n&8&&(_.$$scope={dirty:n,ctx:u}),e.$set(_)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){C(e.$$.fragment,u),t=!1},d(u){Z(e,u)}}}function ws(r,e,t){let{$$slots:s={},$$scope:o}=e;const u=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1"}]];return r.$$set=n=>{t(1,e=_t(_t({},e),Ht(n))),"$$scope"in n&&t(3,o=n.$$scope)},e=Ht(e),[u,e,s,o]}class ul extends al{constructor(e){super(),nl(this,e,ws,$s,il,{})}}const{document:Dl}=ss;function Il(r,e,t){const s=r.slice();return s[45]=e[t],s}function Pl(r,e,t){const s=r.slice();return s[45]=e[t],s}function Tl(r,e,t){const s=r.slice();return s[45]=e[t],s}function rl(r){const e=r.slice(),t=e[14](e[12]);return e[52]=t,e}function Vl(r){let e,t,s,o,u=r[52].text+"",n,_,i;var E=r[52].icon;function g(a,h){return{props:{class:"w-4 h-4"}}}return E&&(t=El(E,g())),{c(){e=d("div"),t&&te(t.$$.fragment),s=w(),o=d("span"),n=W(u),this.h()},l(a){e=f(a,"DIV",{class:!0});var h=v(e);t&&se(t.$$.fragment,h),s=$(h),o=f(h,"SPAN",{class:!0});var p=v(o);n=R(p,u),p.forEach(m),h.forEach(m),this.h()},h(){c(o,"class","hidden sm:inline"),c(e,"class",_="status-indicator "+r[52].class)},m(a,h){Te(a,e,h),t&&ee(t,e,null),l(e,s),l(e,o),l(o,n),i=!0},p(a,h){if(h[0]&4096&&E!==(E=a[52].icon)){if(t){qe();const p=t;C(p.$$.fragment,1,0,()=>{Z(p,1)}),Ge()}E?(t=El(E,g()),te(t.$$.fragment),x(t.$$.fragment,1),ee(t,e,s)):t=null}(!i||h[0]&4096)&&u!==(u=a[52].text+"")&&$e(n,u),(!i||h[0]&4096&&_!==(_="status-indicator "+a[52].class))&&c(e,"class",_)},i(a){i||(t&&x(t.$$.fragment,a),i=!0)},o(a){t&&C(t.$$.fragment,a),i=!1},d(a){a&&m(e),t&&Z(t)}}}function Nl(r){let e,t,s,o;const u=[ys,ks],n=[];function _(i,E){return i[11].length>0?0:1}return t=_(r),s=n[t]=u[t](r),{c(){e=d("div"),s.c(),this.h()},l(i){e=f(i,"DIV",{class:!0});var E=v(e);s.l(E),E.forEach(m),this.h()},h(){c(e,"class","absolute right-0 top-full mt-2 w-80 bg-gray-800 border border-white/20 rounded-xl shadow-2xl z-50 max-h-80 overflow-y-auto")},m(i,E){Te(i,e,E),n[t].m(e,null),o=!0},p(i,E){let g=t;t=_(i),t===g?n[t].p(i,E):(qe(),C(n[g],1,1,()=>{n[g]=null}),Ge(),s=n[t],s?s.p(i,E):(s=n[t]=u[t](i),s.c()),x(s,1),s.m(e,null))},i(i){o||(x(s),o=!0)},o(i){C(s),o=!1},d(i){i&&m(e),n[t].d()}}}function ks(r){let e,t="No playlists available";return{c(){e=d("div"),e.textContent=t,this.h()},l(s){e=f(s,"DIV",{class:!0,"data-svelte-h":!0}),ke(e)!=="svelte-18joj1n"&&(e.textContent=t),this.h()},h(){c(e,"class","p-4 text-center text-gray-400")},m(s,o){Te(s,e,o)},p:pt,i:pt,o:pt,d(s){s&&m(e)}}}function ys(r){let e,t,s=gt(r[11]),o=[];for(let n=0;n<s.length;n+=1)o[n]=Al(Tl(r,s,n));const u=n=>C(o[n],1,1,()=>{o[n]=null});return{c(){for(let n=0;n<o.length;n+=1)o[n].c();e=vt()},l(n){for(let _=0;_<o.length;_+=1)o[_].l(n);e=vt()},m(n,_){for(let i=0;i<o.length;i+=1)o[i]&&o[i].m(n,_);Te(n,e,_),t=!0},p(n,_){if(_[0]&526336){s=gt(n[11]);let i;for(i=0;i<s.length;i+=1){const E=Tl(n,s,i);o[i]?(o[i].p(E,_),x(o[i],1)):(o[i]=Al(E),o[i].c(),x(o[i],1),o[i].m(e.parentNode,e))}for(qe(),i=s.length;i<o.length;i+=1)u(i);Ge()}},i(n){if(!t){for(let _=0;_<s.length;_+=1)x(o[_]);t=!0}},o(n){o=o.filter(Boolean);for(let _=0;_<o.length;_+=1)C(o[_]);t=!1},d(n){n&&m(e),ol(o,n)}}}function xs(r){let e,t;return e=new cl({props:{class:"w-4 h-4 text-gray-400"}}),{c(){te(e.$$.fragment)},l(s){se(e.$$.fragment,s)},m(s,o){ee(e,s,o),t=!0},i(s){t||(x(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){Z(e,s)}}}function Es(r){let e,t;return e=new ul({props:{class:"w-4 h-4 text-green-400"}}),{c(){te(e.$$.fragment)},l(s){se(e.$$.fragment,s)},m(s,o){ee(e,s,o),t=!0},i(s){t||(x(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){Z(e,s)}}}function Al(r){var le;let e,t,s,o,u,n,_,i=r[45].name+"",E,g,a,h=(((le=r[45].tracks)==null?void 0:le.length)||0)+"",p,D,U,k,b,A,re,q,Y;const Q=[Es,xs],X=[];function L(O,S){return O[45].is_public?0:1}k=L(r),b=X[k]=Q[k](r);function J(){return r[20](r[45])}return{c(){e=d("button"),t=d("img"),u=w(),n=d("div"),_=d("h3"),E=W(i),g=w(),a=d("p"),p=W(h),D=W(" tracks"),U=w(),b.c(),A=w(),this.h()},l(O){e=f(O,"BUTTON",{class:!0});var S=v(e);t=f(S,"IMG",{src:!0,alt:!0,class:!0}),u=$(S),n=f(S,"DIV",{class:!0});var ae=v(n);_=f(ae,"H3",{class:!0});var me=v(_);E=R(me,i),me.forEach(m),g=$(ae),a=f(ae,"P",{class:!0});var pe=v(a);p=R(pe,h),D=R(pe," tracks"),pe.forEach(m),ae.forEach(m),U=$(S),b.l(S),A=$(S),S.forEach(m),this.h()},h(){Ze(t.src,s=r[45].thumbnail)||c(t,"src",s),c(t,"alt",o=r[45].name),c(t,"class","w-10 h-10 rounded-lg object-cover"),c(_,"class","text-white font-medium truncate"),c(a,"class","text-gray-400 text-sm truncate"),c(n,"class","flex-1 min-w-0"),c(e,"class","w-full flex items-center gap-3 p-3 hover:bg-white/10 transition-colors text-left")},m(O,S){Te(O,e,S),l(e,t),l(e,u),l(e,n),l(n,_),l(_,E),l(n,g),l(n,a),l(a,p),l(a,D),l(e,U),X[k].m(e,null),l(e,A),re=!0,q||(Y=Pe(e,"click",J),q=!0)},p(O,S){var me;r=O,(!re||S[0]&2048&&!Ze(t.src,s=r[45].thumbnail))&&c(t,"src",s),(!re||S[0]&2048&&o!==(o=r[45].name))&&c(t,"alt",o),(!re||S[0]&2048)&&i!==(i=r[45].name+"")&&$e(E,i),(!re||S[0]&2048)&&h!==(h=(((me=r[45].tracks)==null?void 0:me.length)||0)+"")&&$e(p,h);let ae=k;k=L(r),k!==ae&&(qe(),C(X[ae],1,1,()=>{X[ae]=null}),Ge(),b=X[k],b||(b=X[k]=Q[k](r),b.c()),x(b,1),b.m(e,A))},i(O){re||(x(b),re=!0)},o(O){C(b),re=!1},d(O){O&&m(e),X[k].d(),q=!1,Y()}}}function Cs(r){let e,t,s,o,u,n=r[7]&&Sl(r),_=gt(r[11]),i=[];for(let a=0;a<_.length;a+=1)i[a]=Ml(Il(r,_,a));const E=a=>C(i[a],1,1,()=>{i[a]=null});let g=r[11].length===0&&Ul(r);return{c(){n&&n.c(),e=w(),t=d("div");for(let a=0;a<i.length;a+=1)i[a].c();s=w(),g&&g.c(),o=vt(),this.h()},l(a){n&&n.l(a),e=$(a),t=f(a,"DIV",{class:!0});var h=v(t);for(let p=0;p<i.length;p+=1)i[p].l(h);h.forEach(m),s=$(a),g&&g.l(a),o=vt(),this.h()},h(){c(t,"class","space-y-3")},m(a,h){n&&n.m(a,h),Te(a,e,h),Te(a,t,h);for(let p=0;p<i.length;p+=1)i[p]&&i[p].m(t,null);Te(a,s,h),g&&g.m(a,h),Te(a,o,h),u=!0},p(a,h){if(a[7]?n?(n.p(a,h),h[0]&128&&x(n,1)):(n=Sl(a),n.c(),x(n,1),n.m(e.parentNode,e)):n&&(qe(),C(n,1,1,()=>{n=null}),Ge()),h[0]&362496){_=gt(a[11]);let p;for(p=0;p<_.length;p+=1){const D=Il(a,_,p);i[p]?(i[p].p(D,h),x(i[p],1)):(i[p]=Ml(D),i[p].c(),x(i[p],1),i[p].m(t,null))}for(qe(),p=_.length;p<i.length;p+=1)E(p);Ge()}a[11].length===0?g?(g.p(a,h),h[0]&2048&&x(g,1)):(g=Ul(a),g.c(),x(g,1),g.m(o.parentNode,o)):g&&(qe(),C(g,1,1,()=>{g=null}),Ge())},i(a){if(!u){x(n);for(let h=0;h<_.length;h+=1)x(i[h]);x(g),u=!0}},o(a){C(n),i=i.filter(Boolean);for(let h=0;h<i.length;h+=1)C(i[h]);C(g),u=!1},d(a){a&&(m(e),m(t),m(s),m(o)),n&&n.d(a),ol(i,a),g&&g.d(a)}}}function Ds(r){let e,t,s,o,u,n=r[7]&&Ll(r),_=gt(r[11]),i=[];for(let a=0;a<_.length;a+=1)i[a]=Ol(Pl(r,_,a));const E=a=>C(i[a],1,1,()=>{i[a]=null});let g=r[11].length===0&&jl(r);return{c(){n&&n.c(),e=w(),t=d("div");for(let a=0;a<i.length;a+=1)i[a].c();s=w(),g&&g.c(),o=vt(),this.h()},l(a){n&&n.l(a),e=$(a),t=f(a,"DIV",{class:!0});var h=v(t);for(let p=0;p<i.length;p+=1)i[p].l(h);h.forEach(m),s=$(a),g&&g.l(a),o=vt(),this.h()},h(){c(t,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6")},m(a,h){n&&n.m(a,h),Te(a,e,h),Te(a,t,h);for(let p=0;p<i.length;p+=1)i[p]&&i[p].m(t,null);Te(a,s,h),g&&g.m(a,h),Te(a,o,h),u=!0},p(a,h){if(a[7]?n?(n.p(a,h),h[0]&128&&x(n,1)):(n=Ll(a),n.c(),x(n,1),n.m(e.parentNode,e)):n&&(qe(),C(n,1,1,()=>{n=null}),Ge()),h[0]&329728){_=gt(a[11]);let p;for(p=0;p<_.length;p+=1){const D=Pl(a,_,p);i[p]?(i[p].p(D,h),x(i[p],1)):(i[p]=Ol(D),i[p].c(),x(i[p],1),i[p].m(t,null))}for(qe(),p=_.length;p<i.length;p+=1)E(p);Ge()}a[11].length===0?g?(g.p(a,h),h[0]&2048&&x(g,1)):(g=jl(a),g.c(),x(g,1),g.m(o.parentNode,o)):g&&(qe(),C(g,1,1,()=>{g=null}),Ge())},i(a){if(!u){x(n);for(let h=0;h<_.length;h+=1)x(i[h]);x(g),u=!0}},o(a){C(n),i=i.filter(Boolean);for(let h=0;h<i.length;h+=1)C(i[h]);C(g),u=!1},d(a){a&&(m(e),m(t),m(s),m(o)),n&&n.d(a),ol(i,a),g&&g.d(a)}}}function Is(r){let e,t,s,o,u,n="Failed to Load Playlists",_,i,E,g,a,h="Try Again",p,D,U;return s=new ds({props:{class:"w-8 h-8 text-red-400"}}),{c(){e=d("div"),t=d("div"),te(s.$$.fragment),o=w(),u=d("h3"),u.textContent=n,_=w(),i=d("p"),E=W(r[6]),g=w(),a=d("button"),a.textContent=h,this.h()},l(k){e=f(k,"DIV",{class:!0});var b=v(e);t=f(b,"DIV",{class:!0});var A=v(t);se(s.$$.fragment,A),A.forEach(m),o=$(b),u=f(b,"H3",{class:!0,"data-svelte-h":!0}),ke(u)!=="svelte-ewagi5"&&(u.textContent=n),_=$(b),i=f(b,"P",{class:!0});var re=v(i);E=R(re,r[6]),re.forEach(m),g=$(b),a=f(b,"BUTTON",{class:!0,"data-svelte-h":!0}),ke(a)!=="svelte-6seok"&&(a.textContent=h),b.forEach(m),this.h()},h(){c(t,"class","w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4"),c(u,"class","text-lg font-semibold text-white mb-2"),c(i,"class","text-gray-400 mb-4"),c(a,"class","px-6 py-3 bg-gradient-to-r from-music-pink to-pink-700 text-white rounded-full font-medium hover:shadow-lg transition-all"),c(e,"class","text-center py-16")},m(k,b){Te(k,e,b),l(e,t),ee(s,t,null),l(e,o),l(e,u),l(e,_),l(e,i),l(i,E),l(e,g),l(e,a),p=!0,D||(U=Pe(a,"click",r[13]),D=!0)},p(k,b){(!p||b[0]&64)&&$e(E,k[6])},i(k){p||(x(s.$$.fragment,k),p=!0)},o(k){C(s.$$.fragment,k),p=!1},d(k){k&&m(e),Z(s),D=!1,U()}}}function Ps(r){let e,t,s,o,u,n="Loading Playlists...",_,i,E="Fetching your music collection from the cloud",g;return s=new Gt({props:{class:"w-8 h-8 text-gray-400"}}),{c(){e=d("div"),t=d("div"),te(s.$$.fragment),o=w(),u=d("h3"),u.textContent=n,_=w(),i=d("p"),i.textContent=E,this.h()},l(a){e=f(a,"DIV",{class:!0});var h=v(e);t=f(h,"DIV",{class:!0});var p=v(t);se(s.$$.fragment,p),p.forEach(m),o=$(h),u=f(h,"H3",{class:!0,"data-svelte-h":!0}),ke(u)!=="svelte-gl20t3"&&(u.textContent=n),_=$(h),i=f(h,"P",{class:!0,"data-svelte-h":!0}),ke(i)!=="svelte-hr199j"&&(i.textContent=E),h.forEach(m),this.h()},h(){c(t,"class","w-16 h-16 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse"),c(u,"class","text-lg font-semibold text-white mb-2"),c(i,"class","text-gray-400"),c(e,"class","text-center py-16")},m(a,h){Te(a,e,h),l(e,t),ee(s,t,null),l(e,o),l(e,u),l(e,_),l(e,i),g=!0},p:pt,i(a){g||(x(s.$$.fragment,a),g=!0)},o(a){C(s.$$.fragment,a),g=!1},d(a){a&&m(e),Z(s)}}}function Sl(r){let e,t,s='<h2 class="text-xl font-bold text-white">Featured Playlist</h2> <span class="px-3 py-1 bg-gradient-to-r from-music-purple to-purple-700 text-white text-xs font-medium rounded-full">Global Default</span>',o,u,n,_,i,E,g,a,h,p=r[7].name+"",D,U,k,b=(r[7].description||"The default playlist for all users")+"",A,re,q,Y,Q,X,L=(Array.isArray(r[7].tracks)?r[7].tracks.length:0)+"",J,le,O,S,ae,me=rt(at([r[7]]))+"",pe,B,K,_e,ye,Ce,ve,H,ue,De,ne,fe,F;return Q=new qt({props:{class:"w-3 h-3"}}),S=new Qt({props:{class:"w-3 h-3"}}),_e=new Kl({props:{class:"w-3 h-3"}}),ue=new Rt({props:{class:"w-4 h-4 inline mr-1"}}),{c(){e=d("div"),t=d("div"),t.innerHTML=s,o=w(),u=d("div"),n=d("div"),_=d("img"),g=w(),a=d("div"),h=d("h3"),D=W(p),U=w(),k=d("p"),A=W(b),re=w(),q=d("div"),Y=d("span"),te(Q.$$.fragment),X=w(),J=W(L),le=w(),O=d("span"),te(S.$$.fragment),ae=w(),pe=W(me),B=w(),K=d("span"),te(_e.$$.fragment),ye=W(`
										Global`),Ce=w(),ve=d("div"),H=d("button"),te(ue.$$.fragment),De=W(`
									Load Queue`),this.h()},l(V){e=f(V,"DIV",{class:!0});var j=v(e);t=f(j,"DIV",{class:!0,"data-svelte-h":!0}),ke(t)!=="svelte-1nlqj46"&&(t.innerHTML=s),o=$(j),u=f(j,"DIV",{class:!0});var y=v(u);n=f(y,"DIV",{class:!0});var T=v(n);_=f(T,"IMG",{src:!0,alt:!0,class:!0}),g=$(T),a=f(T,"DIV",{class:!0});var N=v(a);h=f(N,"H3",{class:!0});var ie=v(h);D=R(ie,p),ie.forEach(m),U=$(N),k=f(N,"P",{class:!0});var ge=v(k);A=R(ge,b),ge.forEach(m),re=$(N),q=f(N,"DIV",{class:!0});var z=v(q);Y=f(z,"SPAN",{class:!0});var M=v(Y);se(Q.$$.fragment,M),X=$(M),J=R(M,L),M.forEach(m),le=$(z),O=f(z,"SPAN",{class:!0});var G=v(O);se(S.$$.fragment,G),ae=$(G),pe=R(G,me),G.forEach(m),B=$(z),K=f(z,"SPAN",{class:!0});var Ie=v(K);se(_e.$$.fragment,Ie),ye=R(Ie,`
										Global`),Ie.forEach(m),z.forEach(m),N.forEach(m),Ce=$(T),ve=f(T,"DIV",{class:!0});var xe=v(ve);H=f(xe,"BUTTON",{class:!0});var de=v(H);se(ue.$$.fragment,de),De=R(de,`
									Load Queue`),de.forEach(m),xe.forEach(m),T.forEach(m),y.forEach(m),j.forEach(m),this.h()},h(){c(t,"class","flex items-center justify-between mb-4"),Ze(_.src,i=r[7].thumbnail)||c(_,"src",i),c(_,"alt",E=r[7].name),c(_,"class","w-20 h-20 rounded-lg object-cover shadow-lg"),c(h,"class","text-xl font-bold text-white mb-1"),c(k,"class","text-gray-300 mb-2 line-clamp-1"),c(Y,"class","flex items-center gap-1"),c(O,"class","flex items-center gap-1"),c(K,"class","flex items-center gap-1"),c(q,"class","flex items-center gap-4 text-sm text-gray-400"),c(a,"class","flex-1"),c(H,"class","px-4 py-2 bg-gradient-to-r from-music-pink to-pink-700 hover:from-music-pink/90 hover:to-pink-700/90 text-white rounded-lg font-medium transition-all text-sm"),c(ve,"class","flex items-center gap-2"),c(n,"class","flex items-center gap-4"),c(u,"class","bg-gradient-to-r from-music-purple/10 to-purple-700/10 border border-music-purple/20 rounded-xl p-4"),c(e,"class","mb-6")},m(V,j){Te(V,e,j),l(e,t),l(e,o),l(e,u),l(u,n),l(n,_),l(n,g),l(n,a),l(a,h),l(h,D),l(a,U),l(a,k),l(k,A),l(a,re),l(a,q),l(q,Y),ee(Q,Y,null),l(Y,X),l(Y,J),l(q,le),l(q,O),ee(S,O,null),l(O,ae),l(O,pe),l(q,B),l(q,K),ee(_e,K,null),l(K,ye),l(n,Ce),l(n,ve),l(ve,H),ee(ue,H,null),l(H,De),ne=!0,fe||(F=Pe(H,"click",r[35]),fe=!0)},p(V,j){(!ne||j[0]&128&&!Ze(_.src,i=V[7].thumbnail))&&c(_,"src",i),(!ne||j[0]&128&&E!==(E=V[7].name))&&c(_,"alt",E),(!ne||j[0]&128)&&p!==(p=V[7].name+"")&&$e(D,p),(!ne||j[0]&128)&&b!==(b=(V[7].description||"The default playlist for all users")+"")&&$e(A,b),(!ne||j[0]&128)&&L!==(L=(Array.isArray(V[7].tracks)?V[7].tracks.length:0)+"")&&$e(J,L),(!ne||j[0]&128)&&me!==(me=rt(at([V[7]]))+"")&&$e(pe,me)},i(V){ne||(x(Q.$$.fragment,V),x(S.$$.fragment,V),x(_e.$$.fragment,V),x(ue.$$.fragment,V),ne=!0)},o(V){C(Q.$$.fragment,V),C(S.$$.fragment,V),C(_e.$$.fragment,V),C(ue.$$.fragment,V),ne=!1},d(V){V&&m(e),Z(Q),Z(S),Z(_e),Z(ue),fe=!1,F()}}}function Ts(r){let e,t;return e=new cl({props:{class:"w-4 h-4 text-gray-400"}}),{c(){te(e.$$.fragment)},l(s){se(e.$$.fragment,s)},m(s,o){ee(e,s,o),t=!0},i(s){t||(x(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){Z(e,s)}}}function Vs(r){let e,t;return e=new ul({props:{class:"w-4 h-4 text-green-400"}}),{c(){te(e.$$.fragment)},l(s){se(e.$$.fragment,s)},m(s,o){ee(e,s,o),t=!0},i(s){t||(x(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){Z(e,s)}}}function Ml(r){let e,t,s,o,u,n,_,i,E,g,a,h,p,D=r[45].name+"",U,k,b,A,re,q,Y=r[45].description+"",Q,X,L,J,le,O,S=(Array.isArray(r[45].tracks)?r[45].tracks.length:0)+"",ae,me,pe,B,K,_e=rt(at([r[45]]))+"",ye,Ce,ve,H=Ft(r[45].$updatedAt)+"",ue,De,ne,fe,F,V,j,y,T,N,ie,ge,z,M,G;E=new Rt({props:{class:"w-4 h-4 ml-0.5"}});function Ie(){return r[36](r[45])}const xe=[Vs,Ts],de=[];function Ye(oe,I){return oe[45].is_public?0:1}b=Ye(r),A=de[b]=xe[b](r),le=new qt({props:{class:"w-4 h-4"}}),B=new Qt({props:{class:"w-4 h-4"}}),F=new Yl({props:{class:"w-4 h-4"}});function Se(){return r[37](r[45])}y=new Jl({props:{class:"w-4 h-4"}});function Ve(){return r[38](r[45])}ie=new gs({props:{class:"w-4 h-4"}});function nt(){return r[39](r[45])}return{c(){e=d("div"),t=d("div"),s=d("img"),n=w(),_=d("div"),i=d("button"),te(E.$$.fragment),g=w(),a=d("div"),h=d("div"),p=d("h3"),U=W(D),k=w(),A.c(),re=w(),q=d("p"),Q=W(Y),X=w(),L=d("div"),J=d("span"),te(le.$$.fragment),O=w(),ae=W(S),me=w(),pe=d("span"),te(B.$$.fragment),K=w(),ye=W(_e),Ce=w(),ve=d("span"),ue=W(H),De=w(),ne=d("div"),fe=d("button"),te(F.$$.fragment),V=w(),j=d("button"),te(y.$$.fragment),T=w(),N=d("button"),te(ie.$$.fragment),ge=w(),this.h()},l(oe){e=f(oe,"DIV",{class:!0});var I=v(e);t=f(I,"DIV",{class:!0});var he=v(t);s=f(he,"IMG",{src:!0,alt:!0,class:!0}),n=$(he),_=f(he,"DIV",{class:!0});var Ne=v(_);i=f(Ne,"BUTTON",{class:!0});var Ee=v(i);se(E.$$.fragment,Ee),Ee.forEach(m),Ne.forEach(m),he.forEach(m),g=$(I),a=f(I,"DIV",{class:!0});var Ae=v(a);h=f(Ae,"DIV",{class:!0});var et=v(h);p=f(et,"H3",{class:!0});var Fe=v(p);U=R(Fe,D),Fe.forEach(m),k=$(et),A.l(et),et.forEach(m),re=$(Ae),q=f(Ae,"P",{class:!0});var Qe=v(q);Q=R(Qe,Y),Qe.forEach(m),Ae.forEach(m),X=$(I),L=f(I,"DIV",{class:!0});var Oe=v(L);J=f(Oe,"SPAN",{class:!0});var tt=v(J);se(le.$$.fragment,tt),O=$(tt),ae=R(tt,S),tt.forEach(m),me=$(Oe),pe=f(Oe,"SPAN",{class:!0});var je=v(pe);se(B.$$.fragment,je),K=$(je),ye=R(je,_e),je.forEach(m),Ce=$(Oe),ve=f(Oe,"SPAN",{});var lt=v(ve);ue=R(lt,H),lt.forEach(m),Oe.forEach(m),De=$(I),ne=f(I,"DIV",{class:!0});var ze=v(ne);fe=f(ze,"BUTTON",{class:!0,title:!0});var He=v(fe);se(F.$$.fragment,He),He.forEach(m),V=$(ze),j=f(ze,"BUTTON",{class:!0,title:!0});var Me=v(j);se(y.$$.fragment,Me),Me.forEach(m),T=$(ze),N=f(ze,"BUTTON",{class:!0,title:!0});var Je=v(N);se(ie.$$.fragment,Je),Je.forEach(m),ze.forEach(m),ge=$(I),I.forEach(m),this.h()},h(){Ze(s.src,o=r[45].thumbnail)||c(s,"src",o),c(s,"alt",u=r[45].name),c(s,"class","w-16 h-16 rounded-lg object-cover"),c(i,"class","p-2 bg-music-pink hover:bg-music-pink/90 rounded-full text-white transition-all"),c(_,"class","absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center"),c(t,"class","relative"),c(p,"class","font-semibold text-white truncate"),c(h,"class","flex items-center gap-2 mb-1"),c(q,"class","text-gray-400 text-sm truncate"),c(a,"class","flex-1 min-w-0"),c(J,"class","flex items-center gap-1"),c(pe,"class","flex items-center gap-1"),c(L,"class","flex items-center gap-6 text-sm text-gray-400"),c(fe,"class","p-2 text-gray-400 hover:text-white transition-colors"),c(fe,"title","Edit"),c(j,"class","p-2 text-gray-400 hover:text-white transition-colors"),c(j,"title","Share"),c(N,"class","p-2 text-gray-400 hover:text-red-400 transition-colors"),c(N,"title","Delete"),c(ne,"class","flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity"),c(e,"class","group flex items-center gap-4 p-4 bg-white/5 hover:bg-white/10 rounded-xl border border-white/10 transition-all")},m(oe,I){Te(oe,e,I),l(e,t),l(t,s),l(t,n),l(t,_),l(_,i),ee(E,i,null),l(e,g),l(e,a),l(a,h),l(h,p),l(p,U),l(h,k),de[b].m(h,null),l(a,re),l(a,q),l(q,Q),l(e,X),l(e,L),l(L,J),ee(le,J,null),l(J,O),l(J,ae),l(L,me),l(L,pe),ee(B,pe,null),l(pe,K),l(pe,ye),l(L,Ce),l(L,ve),l(ve,ue),l(e,De),l(e,ne),l(ne,fe),ee(F,fe,null),l(ne,V),l(ne,j),ee(y,j,null),l(ne,T),l(ne,N),ee(ie,N,null),l(e,ge),z=!0,M||(G=[Pe(i,"click",Ie),Pe(fe,"click",Se),Pe(j,"click",Ve),Pe(N,"click",nt)],M=!0)},p(oe,I){r=oe,(!z||I[0]&2048&&!Ze(s.src,o=r[45].thumbnail))&&c(s,"src",o),(!z||I[0]&2048&&u!==(u=r[45].name))&&c(s,"alt",u),(!z||I[0]&2048)&&D!==(D=r[45].name+"")&&$e(U,D);let he=b;b=Ye(r),b!==he&&(qe(),C(de[he],1,1,()=>{de[he]=null}),Ge(),A=de[b],A||(A=de[b]=xe[b](r),A.c()),x(A,1),A.m(h,null)),(!z||I[0]&2048)&&Y!==(Y=r[45].description+"")&&$e(Q,Y),(!z||I[0]&2048)&&S!==(S=(Array.isArray(r[45].tracks)?r[45].tracks.length:0)+"")&&$e(ae,S),(!z||I[0]&2048)&&_e!==(_e=rt(at([r[45]]))+"")&&$e(ye,_e),(!z||I[0]&2048)&&H!==(H=Ft(r[45].$updatedAt)+"")&&$e(ue,H)},i(oe){z||(x(E.$$.fragment,oe),x(A),x(le.$$.fragment,oe),x(B.$$.fragment,oe),x(F.$$.fragment,oe),x(y.$$.fragment,oe),x(ie.$$.fragment,oe),z=!0)},o(oe){C(E.$$.fragment,oe),C(A),C(le.$$.fragment,oe),C(B.$$.fragment,oe),C(F.$$.fragment,oe),C(y.$$.fragment,oe),C(ie.$$.fragment,oe),z=!1},d(oe){oe&&m(e),Z(E),de[b].d(),Z(le),Z(B),Z(F),Z(y),Z(ie),M=!1,zt(G)}}}function Ul(r){let e,t,s,o,u,n="No Playlists Found",_,i,E="Create your first playlist or adjust your search filters",g,a,h="Create Your First Playlist",p,D,U;return s=new Gt({props:{class:"w-8 h-8 text-gray-400"}}),{c(){e=d("div"),t=d("div"),te(s.$$.fragment),o=w(),u=d("h3"),u.textContent=n,_=w(),i=d("p"),i.textContent=E,g=w(),a=d("button"),a.textContent=h,this.h()},l(k){e=f(k,"DIV",{class:!0});var b=v(e);t=f(b,"DIV",{class:!0});var A=v(t);se(s.$$.fragment,A),A.forEach(m),o=$(b),u=f(b,"H3",{class:!0,"data-svelte-h":!0}),ke(u)!=="svelte-w7xm6k"&&(u.textContent=n),_=$(b),i=f(b,"P",{class:!0,"data-svelte-h":!0}),ke(i)!=="svelte-bwn6h8"&&(i.textContent=E),g=$(b),a=f(b,"BUTTON",{class:!0,"data-svelte-h":!0}),ke(a)!=="svelte-13tzrph"&&(a.textContent=h),b.forEach(m),this.h()},h(){c(t,"class","w-16 h-16 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-4"),c(u,"class","text-lg font-semibold text-white mb-2"),c(i,"class","text-gray-400 mb-4"),c(a,"class","px-6 py-3 bg-gradient-to-r from-music-pink to-pink-700 text-white rounded-full font-medium hover:shadow-lg transition-all"),c(e,"class","text-center py-16")},m(k,b){Te(k,e,b),l(e,t),ee(s,t,null),l(e,o),l(e,u),l(e,_),l(e,i),l(e,g),l(e,a),p=!0,D||(U=Pe(a,"click",r[40]),D=!0)},p:pt,i(k){p||(x(s.$$.fragment,k),p=!0)},o(k){C(s.$$.fragment,k),p=!1},d(k){k&&m(e),Z(s),D=!1,U()}}}function Ll(r){let e,t,s='<h2 class="text-xl font-bold text-white">Featured Playlist</h2> <span class="px-3 py-1 bg-gradient-to-r from-music-purple to-purple-700 text-white text-xs font-medium rounded-full">Global Default</span>',o,u,n,_,i,E,g,a,h,p,D,U,k,b=r[7].name+"",A,re,q,Y=(r[7].description||"The default playlist for all users")+"",Q,X,L,J,le,O,S=(Array.isArray(r[7].tracks)?r[7].tracks.length:0)+"",ae,me,pe,B,K,_e,ye=rt(at([r[7]]))+"",Ce,ve,H,ue,De,ne,fe,F,V,j,y,T,N="Play Now",ie,ge,z;return le=new qt({props:{class:"w-4 h-4"}}),K=new Qt({props:{class:"w-4 h-4"}}),ue=new Kl({props:{class:"w-4 h-4"}}),V=new Rt({props:{class:"w-5 h-5 inline mr-2"}}),{c(){e=d("div"),t=d("div"),t.innerHTML=s,o=w(),u=d("div"),n=d("div"),_=d("div"),i=d("img"),a=w(),h=d("div"),p=w(),D=d("div"),U=d("div"),k=d("h3"),A=W(b),re=w(),q=d("p"),Q=W(Y),X=w(),L=d("div"),J=d("span"),te(le.$$.fragment),O=w(),ae=W(S),me=W(" tracks"),pe=w(),B=d("span"),te(K.$$.fragment),_e=w(),Ce=W(ye),ve=w(),H=d("span"),te(ue.$$.fragment),De=W(`
											Global`),ne=w(),fe=d("div"),F=d("button"),te(V.$$.fragment),j=W(`
										Load into Queue`),y=w(),T=d("button"),T.textContent=N,this.h()},l(M){e=f(M,"DIV",{class:!0});var G=v(e);t=f(G,"DIV",{class:!0,"data-svelte-h":!0}),ke(t)!=="svelte-1nlqj46"&&(t.innerHTML=s),o=$(G),u=f(G,"DIV",{class:!0});var Ie=v(u);n=f(Ie,"DIV",{class:!0});var xe=v(n);_=f(xe,"DIV",{class:!0});var de=v(_);i=f(de,"IMG",{src:!0,alt:!0,class:!0}),a=$(de),h=f(de,"DIV",{class:!0}),v(h).forEach(m),de.forEach(m),p=$(xe),D=f(xe,"DIV",{class:!0});var Ye=v(D);U=f(Ye,"DIV",{});var Se=v(U);k=f(Se,"H3",{class:!0});var Ve=v(k);A=R(Ve,b),Ve.forEach(m),re=$(Se),q=f(Se,"P",{class:!0});var nt=v(q);Q=R(nt,Y),nt.forEach(m),X=$(Se),L=f(Se,"DIV",{class:!0});var oe=v(L);J=f(oe,"SPAN",{class:!0});var I=v(J);se(le.$$.fragment,I),O=$(I),ae=R(I,S),me=R(I," tracks"),I.forEach(m),pe=$(oe),B=f(oe,"SPAN",{class:!0});var he=v(B);se(K.$$.fragment,he),_e=$(he),Ce=R(he,ye),he.forEach(m),ve=$(oe),H=f(oe,"SPAN",{class:!0});var Ne=v(H);se(ue.$$.fragment,Ne),De=R(Ne,`
											Global`),Ne.forEach(m),oe.forEach(m),Se.forEach(m),ne=$(Ye),fe=f(Ye,"DIV",{class:!0});var Ee=v(fe);F=f(Ee,"BUTTON",{class:!0});var Ae=v(F);se(V.$$.fragment,Ae),j=R(Ae,`
										Load into Queue`),Ae.forEach(m),y=$(Ee),T=f(Ee,"BUTTON",{class:!0,"data-svelte-h":!0}),ke(T)!=="svelte-vydq62"&&(T.textContent=N),Ee.forEach(m),Ye.forEach(m),xe.forEach(m),Ie.forEach(m),G.forEach(m),this.h()},h(){c(t,"class","flex items-center justify-between mb-4"),Ze(i.src,E=r[7].thumbnail)||c(i,"src",E),c(i,"alt",g=r[7].name),c(i,"class","w-32 h-32 rounded-xl object-cover shadow-lg"),c(h,"class","absolute inset-0 bg-black/20 rounded-xl"),c(_,"class","relative flex-shrink-0"),c(k,"class","text-2xl font-bold text-white mb-2"),c(q,"class","text-gray-300 mb-4 line-clamp-2"),c(J,"class","flex items-center gap-2"),c(B,"class","flex items-center gap-2"),c(H,"class","flex items-center gap-2"),c(L,"class","flex items-center gap-6 text-sm text-gray-300 mb-4"),c(F,"class","px-6 py-3 bg-gradient-to-r from-music-pink to-pink-700 hover:from-music-pink/90 hover:to-pink-700/90 text-white rounded-full font-medium transition-all shadow-lg hover:shadow-xl transform hover:scale-105"),c(T,"class","px-6 py-3 bg-white/10 hover:bg-white/20 text-white rounded-full font-medium transition-all border border-white/20"),c(fe,"class","flex items-center gap-3"),c(D,"class","flex-1 flex flex-col justify-between"),c(n,"class","flex gap-6"),c(u,"class","bg-gradient-to-r from-music-purple/10 to-purple-700/10 border border-music-purple/20 rounded-2xl p-6"),c(e,"class","mb-8")},m(M,G){Te(M,e,G),l(e,t),l(e,o),l(e,u),l(u,n),l(n,_),l(_,i),l(_,a),l(_,h),l(n,p),l(n,D),l(D,U),l(U,k),l(k,A),l(U,re),l(U,q),l(q,Q),l(U,X),l(U,L),l(L,J),ee(le,J,null),l(J,O),l(J,ae),l(J,me),l(L,pe),l(L,B),ee(K,B,null),l(B,_e),l(B,Ce),l(L,ve),l(L,H),ee(ue,H,null),l(H,De),l(D,ne),l(D,fe),l(fe,F),ee(V,F,null),l(F,j),l(fe,y),l(fe,T),ie=!0,ge||(z=[Pe(F,"click",r[29]),Pe(T,"click",r[30])],ge=!0)},p(M,G){(!ie||G[0]&128&&!Ze(i.src,E=M[7].thumbnail))&&c(i,"src",E),(!ie||G[0]&128&&g!==(g=M[7].name))&&c(i,"alt",g),(!ie||G[0]&128)&&b!==(b=M[7].name+"")&&$e(A,b),(!ie||G[0]&128)&&Y!==(Y=(M[7].description||"The default playlist for all users")+"")&&$e(Q,Y),(!ie||G[0]&128)&&S!==(S=(Array.isArray(M[7].tracks)?M[7].tracks.length:0)+"")&&$e(ae,S),(!ie||G[0]&128)&&ye!==(ye=rt(at([M[7]]))+"")&&$e(Ce,ye)},i(M){ie||(x(le.$$.fragment,M),x(K.$$.fragment,M),x(ue.$$.fragment,M),x(V.$$.fragment,M),ie=!0)},o(M){C(le.$$.fragment,M),C(K.$$.fragment,M),C(ue.$$.fragment,M),C(V.$$.fragment,M),ie=!1},d(M){M&&m(e),Z(le),Z(K),Z(ue),Z(V),ge=!1,zt(z)}}}function Ns(r){let e,t;return e=new cl({props:{class:"w-4 h-4 text-gray-400"}}),{c(){te(e.$$.fragment)},l(s){se(e.$$.fragment,s)},m(s,o){ee(e,s,o),t=!0},i(s){t||(x(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){Z(e,s)}}}function As(r){let e,t;return e=new ul({props:{class:"w-4 h-4 text-green-400"}}),{c(){te(e.$$.fragment)},l(s){se(e.$$.fragment,s)},m(s,o){ee(e,s,o),t=!0},i(s){t||(x(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){Z(e,s)}}}function Ol(r){let e,t,s,o,u,n,_,i,E,g,a,h,p,D,U,k,b,A=r[45].name+"",re,q,Y,Q=r[45].description+"",X,L,J,le,O,S,ae=(Array.isArray(r[45].tracks)?r[45].tracks.length:0)+"",me,pe,B,K,_e,ye=rt(at([r[45]]))+"",Ce,ve,H,ue,De=Ft(r[45].$updatedAt)+"",ne,fe,F,V,j,y,T,N,ie,ge,z,M,G,Ie,xe;E=new Rt({props:{class:"w-8 h-8 ml-1"}});function de(){return r[31](r[45])}const Ye=[As,Ns],Se=[];function Ve(I,he){return I[45].is_public?0:1}p=Ve(r),D=Se[p]=Ye[p](r),O=new qt({props:{class:"w-3 h-3"}}),K=new Qt({props:{class:"w-3 h-3"}}),j=new Yl({props:{class:"w-4 h-4"}});function nt(){return r[32](r[45])}N=new Jl({props:{class:"w-4 h-4"}});function oe(){return r[33](r[45])}return z=new os({props:{class:"w-4 h-4"}}),{c(){e=d("div"),t=d("div"),s=d("img"),n=w(),_=d("div"),i=d("button"),te(E.$$.fragment),g=w(),a=d("div"),h=d("div"),D.c(),U=w(),k=d("div"),b=d("h3"),re=W(A),q=w(),Y=d("p"),X=W(Q),L=w(),J=d("div"),le=d("span"),te(O.$$.fragment),S=w(),me=W(ae),pe=w(),B=d("span"),te(K.$$.fragment),_e=w(),Ce=W(ye),ve=w(),H=d("div"),ue=d("span"),ne=W(De),fe=w(),F=d("div"),V=d("button"),te(j.$$.fragment),y=w(),T=d("button"),te(N.$$.fragment),ie=w(),ge=d("button"),te(z.$$.fragment),M=w(),this.h()},l(I){e=f(I,"DIV",{class:!0});var he=v(e);t=f(he,"DIV",{class:!0});var Ne=v(t);s=f(Ne,"IMG",{src:!0,alt:!0,class:!0}),n=$(Ne),_=f(Ne,"DIV",{class:!0});var Ee=v(_);i=f(Ee,"BUTTON",{class:!0});var Ae=v(i);se(E.$$.fragment,Ae),Ae.forEach(m),Ee.forEach(m),g=$(Ne),a=f(Ne,"DIV",{class:!0});var et=v(a);h=f(et,"DIV",{class:!0});var Fe=v(h);D.l(Fe),Fe.forEach(m),et.forEach(m),Ne.forEach(m),U=$(he),k=f(he,"DIV",{class:!0});var Qe=v(k);b=f(Qe,"H3",{class:!0});var Oe=v(b);re=R(Oe,A),Oe.forEach(m),q=$(Qe),Y=f(Qe,"P",{class:!0});var tt=v(Y);X=R(tt,Q),tt.forEach(m),L=$(Qe),J=f(Qe,"DIV",{class:!0});var je=v(J);le=f(je,"SPAN",{class:!0});var lt=v(le);se(O.$$.fragment,lt),S=$(lt),me=R(lt,ae),lt.forEach(m),pe=$(je),B=f(je,"SPAN",{class:!0});var ze=v(B);se(K.$$.fragment,ze),_e=$(ze),Ce=R(ze,ye),ze.forEach(m),je.forEach(m),ve=$(Qe),H=f(Qe,"DIV",{class:!0});var He=v(H);ue=f(He,"SPAN",{class:!0});var Me=v(ue);ne=R(Me,De),Me.forEach(m),fe=$(He),F=f(He,"DIV",{class:!0});var Je=v(F);V=f(Je,"BUTTON",{class:!0,title:!0});var ft=v(V);se(j.$$.fragment,ft),ft.forEach(m),y=$(Je),T=f(Je,"BUTTON",{class:!0,title:!0});var Be=v(T);se(N.$$.fragment,Be),Be.forEach(m),ie=$(Je),ge=f(Je,"BUTTON",{class:!0});var bt=v(ge);se(z.$$.fragment,bt),bt.forEach(m),Je.forEach(m),He.forEach(m),Qe.forEach(m),M=$(he),he.forEach(m),this.h()},h(){Ze(s.src,o=r[45].thumbnail)||c(s,"src",o),c(s,"alt",u=r[45].name),c(s,"class","w-full h-48 object-cover rounded-t-2xl"),c(i,"class","p-4 bg-music-pink hover:bg-music-pink/90 rounded-full text-white transition-all transform hover:scale-110"),c(_,"class","absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-t-2xl flex items-center justify-center"),c(h,"class","p-2 bg-black/60 rounded-lg"),c(a,"class","absolute top-3 right-3"),c(t,"class","relative"),c(b,"class","font-semibold text-white text-lg mb-1 truncate"),c(Y,"class","text-gray-400 text-sm mb-3 line-clamp-2"),c(le,"class","flex items-center gap-1"),c(B,"class","flex items-center gap-1"),c(J,"class","flex items-center gap-4 text-xs text-gray-400 mb-3"),c(ue,"class","text-xs text-gray-500"),c(V,"class","p-2 text-gray-400 hover:text-white transition-colors"),c(V,"title","Edit"),c(T,"class","p-2 text-gray-400 hover:text-white transition-colors"),c(T,"title","Toggle Privacy"),c(ge,"class","p-2 text-gray-400 hover:text-white transition-colors"),c(F,"class","flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity"),c(H,"class","flex items-center justify-between"),c(k,"class","p-4"),c(e,"class","group bg-white/5 hover:bg-white/10 rounded-2xl border border-white/10 transition-all duration-300 hover:scale-105 hover:shadow-2xl")},m(I,he){Te(I,e,he),l(e,t),l(t,s),l(t,n),l(t,_),l(_,i),ee(E,i,null),l(t,g),l(t,a),l(a,h),Se[p].m(h,null),l(e,U),l(e,k),l(k,b),l(b,re),l(k,q),l(k,Y),l(Y,X),l(k,L),l(k,J),l(J,le),ee(O,le,null),l(le,S),l(le,me),l(J,pe),l(J,B),ee(K,B,null),l(B,_e),l(B,Ce),l(k,ve),l(k,H),l(H,ue),l(ue,ne),l(H,fe),l(H,F),l(F,V),ee(j,V,null),l(F,y),l(F,T),ee(N,T,null),l(F,ie),l(F,ge),ee(z,ge,null),l(e,M),G=!0,Ie||(xe=[Pe(i,"click",de),Pe(V,"click",nt),Pe(T,"click",oe)],Ie=!0)},p(I,he){r=I,(!G||he[0]&2048&&!Ze(s.src,o=r[45].thumbnail))&&c(s,"src",o),(!G||he[0]&2048&&u!==(u=r[45].name))&&c(s,"alt",u);let Ne=p;p=Ve(r),p!==Ne&&(qe(),C(Se[Ne],1,1,()=>{Se[Ne]=null}),Ge(),D=Se[p],D||(D=Se[p]=Ye[p](r),D.c()),x(D,1),D.m(h,null)),(!G||he[0]&2048)&&A!==(A=r[45].name+"")&&$e(re,A),(!G||he[0]&2048)&&Q!==(Q=r[45].description+"")&&$e(X,Q),(!G||he[0]&2048)&&ae!==(ae=(Array.isArray(r[45].tracks)?r[45].tracks.length:0)+"")&&$e(me,ae),(!G||he[0]&2048)&&ye!==(ye=rt(at([r[45]]))+"")&&$e(Ce,ye),(!G||he[0]&2048)&&De!==(De=Ft(r[45].$updatedAt)+"")&&$e(ne,De)},i(I){G||(x(E.$$.fragment,I),x(D),x(O.$$.fragment,I),x(K.$$.fragment,I),x(j.$$.fragment,I),x(N.$$.fragment,I),x(z.$$.fragment,I),G=!0)},o(I){C(E.$$.fragment,I),C(D),C(O.$$.fragment,I),C(K.$$.fragment,I),C(j.$$.fragment,I),C(N.$$.fragment,I),C(z.$$.fragment,I),G=!1},d(I){I&&m(e),Z(E),Se[p].d(),Z(O),Z(K),Z(j),Z(N),Z(z),Ie=!1,zt(xe)}}}function jl(r){let e,t,s,o,u,n="No Playlists Found",_,i,E="Create your first playlist or adjust your search filters",g,a,h="Create Your First Playlist",p,D,U;return s=new Gt({props:{class:"w-8 h-8 text-gray-400"}}),{c(){e=d("div"),t=d("div"),te(s.$$.fragment),o=w(),u=d("h3"),u.textContent=n,_=w(),i=d("p"),i.textContent=E,g=w(),a=d("button"),a.textContent=h,this.h()},l(k){e=f(k,"DIV",{class:!0});var b=v(e);t=f(b,"DIV",{class:!0});var A=v(t);se(s.$$.fragment,A),A.forEach(m),o=$(b),u=f(b,"H3",{class:!0,"data-svelte-h":!0}),ke(u)!=="svelte-w7xm6k"&&(u.textContent=n),_=$(b),i=f(b,"P",{class:!0,"data-svelte-h":!0}),ke(i)!=="svelte-bwn6h8"&&(i.textContent=E),g=$(b),a=f(b,"BUTTON",{class:!0,"data-svelte-h":!0}),ke(a)!=="svelte-13tzrph"&&(a.textContent=h),b.forEach(m),this.h()},h(){c(t,"class","w-16 h-16 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-4"),c(u,"class","text-lg font-semibold text-white mb-2"),c(i,"class","text-gray-400 mb-4"),c(a,"class","px-6 py-3 bg-gradient-to-r from-music-pink to-pink-700 text-white rounded-full font-medium hover:shadow-lg transition-all"),c(e,"class","text-center py-16")},m(k,b){Te(k,e,b),l(e,t),ee(s,t,null),l(e,o),l(e,u),l(e,_),l(e,i),l(e,g),l(e,a),p=!0,D||(U=Pe(a,"click",r[34]),D=!0)},p:pt,i(k){p||(x(s.$$.fragment,k),p=!0)},o(k){C(s.$$.fragment,k),p=!1},d(k){k&&m(e),Z(s),D=!1,U()}}}function Ss(r){var ml,pl;let e,t,s,o,u,n,_,i,E='<h1 class="text-xl font-bold text-white">Playlist Library</h1> <p class="text-gray-400 text-sm">Create, organize, and manage your playlists</p>',g,a,h,p,D,U,k,b,A=((ml=r[4].currentUser)==null?void 0:ml.email)+"",re,q,Y,Q,X,L,J="Current Venue:",le,O,S,ae=(((pl=r[4].currentVenue)==null?void 0:pl.venue_name)||"No venue selected")+"",me,pe,B,K,_e,ye="Load Playlist",Ce,ve,H,ue,De,ne,fe,F,V,j,y,T,N,ie,ge,z,M,G,Ie,xe,de,Ye="All",Se,Ve,nt="Public",oe,I,he="Private",Ne,Ee,Ae,et="Recently Played",Fe,Qe="Name",Oe,tt="Track Count",je,lt="Duration",ze,He,Me,Je='<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg>',ft,Be,bt='<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg>',Wt,ot,Ke,Xe,Yt,Re,Jt,$t=r[11].length+"",Dt,Kt,wt=r[0].length+"",It,Xt,kt=r[0].reduce(Hl,0)+"",Pt,Zt,yt=rt(at(r[0]))+"",Tt,el,we,tl,fl;n=new Gt({props:{class:"w-6 h-6 text-white"}});let Ue=r[12]&&Vl(rl(r));H=new us({props:{class:"w-4 h-4"}});let Le=r[10]&&Nl(r);y=new fs({props:{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}}),z=new is({props:{class:"w-5 h-5"}});const dl=[Ps,Is,Ds,Cs],it=[];function hl(P,ce){return P[5]?0:P[6]?1:P[8]==="grid"?2:3}return Ke=hl(r),Xe=it[Ke]=dl[Ke](r),{c(){e=w(),t=d("main"),s=d("header"),o=d("div"),u=d("div"),te(n.$$.fragment),_=w(),i=d("div"),i.innerHTML=E,g=w(),a=d("div"),Ue&&Ue.c(),h=w(),p=d("div"),D=d("img"),k=w(),b=d("span"),re=W(A),q=w(),Y=d("div"),Q=d("div"),X=d("div"),L=d("span"),L.textContent=J,le=w(),O=d("div"),S=d("span"),me=W(ae),pe=w(),B=d("div"),K=d("button"),_e=d("span"),_e.textContent=ye,Ce=w(),ve=d("div"),te(H.$$.fragment),De=w(),Le&&Le.c(),ne=w(),fe=d("div"),F=d("div"),V=d("div"),j=d("div"),te(y.$$.fragment),T=w(),N=d("input"),ie=w(),ge=d("button"),te(z.$$.fragment),M=W(`
					Create Playlist`),G=w(),Ie=d("div"),xe=d("div"),de=d("button"),de.textContent=Ye,Se=w(),Ve=d("button"),Ve.textContent=nt,oe=w(),I=d("button"),I.textContent=he,Ne=w(),Ee=d("select"),Ae=d("option"),Ae.textContent=et,Fe=d("option"),Fe.textContent=Qe,Oe=d("option"),Oe.textContent=tt,je=d("option"),je.textContent=lt,ze=w(),He=d("div"),Me=d("button"),Me.innerHTML=Je,ft=w(),Be=d("button"),Be.innerHTML=bt,Wt=w(),ot=d("div"),Xe.c(),Yt=w(),Re=d("footer"),Jt=W("Showing "),Dt=W($t),Kt=W(" of "),It=W(wt),Xt=W(` playlists • 
		Total: `),Pt=W(kt),Zt=W(` tracks • 
		`),Tt=W(yt),el=W(" of music"),this.h()},l(P){Zl("svelte-16rf822",Dl.head).forEach(m),e=$(P),t=f(P,"MAIN",{class:!0});var We=v(t);s=f(We,"HEADER",{class:!0});var ct=v(s);o=f(ct,"DIV",{class:!0});var ut=v(o);u=f(ut,"DIV",{class:!0});var xt=v(u);se(n.$$.fragment,xt),xt.forEach(m),_=$(ut),i=f(ut,"DIV",{"data-svelte-h":!0}),ke(i)!=="svelte-usfr9d"&&(i.innerHTML=E),ut.forEach(m),g=$(ct),a=f(ct,"DIV",{class:!0});var Vt=v(a);Ue&&Ue.l(Vt),h=$(Vt),p=f(Vt,"DIV",{class:!0});var Nt=v(p);D=f(Nt,"IMG",{src:!0,alt:!0,class:!0}),k=$(Nt),b=f(Nt,"SPAN",{class:!0});var _l=v(b);re=R(_l,A),_l.forEach(m),Nt.forEach(m),Vt.forEach(m),ct.forEach(m),q=$(We),Y=f(We,"DIV",{class:!0});var vl=v(Y);Q=f(vl,"DIV",{class:!0});var At=v(Q);X=f(At,"DIV",{class:!0});var St=v(X);L=f(St,"SPAN",{class:!0,"data-svelte-h":!0}),ke(L)!=="svelte-1vb03rh"&&(L.textContent=J),le=$(St),O=f(St,"DIV",{class:!0});var gl=v(O);S=f(gl,"SPAN",{class:!0});var bl=v(S);me=R(bl,ae),bl.forEach(m),gl.forEach(m),St.forEach(m),pe=$(At),B=f(At,"DIV",{class:!0});var Mt=v(B);K=f(Mt,"BUTTON",{class:!0});var Ut=v(K);_e=f(Ut,"SPAN",{"data-svelte-h":!0}),ke(_e)!=="svelte-utcfac"&&(_e.textContent=ye),Ce=$(Ut),ve=f(Ut,"DIV",{class:!0});var $l=v(ve);se(H.$$.fragment,$l),$l.forEach(m),Ut.forEach(m),De=$(Mt),Le&&Le.l(Mt),Mt.forEach(m),At.forEach(m),vl.forEach(m),ne=$(We),fe=f(We,"DIV",{class:!0});var wl=v(fe);F=f(wl,"DIV",{class:!0});var Lt=v(F);V=f(Lt,"DIV",{class:!0});var Ot=v(V);j=f(Ot,"DIV",{class:!0});var jt=v(j);se(y.$$.fragment,jt),T=$(jt),N=f(jt,"INPUT",{type:!0,placeholder:!0,class:!0}),jt.forEach(m),ie=$(Ot),ge=f(Ot,"BUTTON",{class:!0});var ll=v(ge);se(z.$$.fragment,ll),M=R(ll,`
					Create Playlist`),ll.forEach(m),Ot.forEach(m),G=$(Lt),Ie=f(Lt,"DIV",{class:!0});var dt=v(Ie);xe=f(dt,"DIV",{class:!0});var ht=v(xe);de=f(ht,"BUTTON",{class:!0,"data-svelte-h":!0}),ke(de)!=="svelte-1czytdv"&&(de.textContent=Ye),Se=$(ht),Ve=f(ht,"BUTTON",{class:!0,"data-svelte-h":!0}),ke(Ve)!=="svelte-10khqfy"&&(Ve.textContent=nt),oe=$(ht),I=f(ht,"BUTTON",{class:!0,"data-svelte-h":!0}),ke(I)!=="svelte-aa2lgh"&&(I.textContent=he),ht.forEach(m),Ne=$(dt),Ee=f(dt,"SELECT",{class:!0});var Et=v(Ee);Ae=f(Et,"OPTION",{"data-svelte-h":!0}),ke(Ae)!=="svelte-pj75jm"&&(Ae.textContent=et),Fe=f(Et,"OPTION",{"data-svelte-h":!0}),ke(Fe)!=="svelte-8o3xma"&&(Fe.textContent=Qe),Oe=f(Et,"OPTION",{"data-svelte-h":!0}),ke(Oe)!=="svelte-n1dh54"&&(Oe.textContent=tt),je=f(Et,"OPTION",{"data-svelte-h":!0}),ke(je)!=="svelte-jl9efy"&&(je.textContent=lt),Et.forEach(m),ze=$(dt),He=f(dt,"DIV",{class:!0});var Bt=v(He);Me=f(Bt,"BUTTON",{class:!0,"data-svelte-h":!0}),ke(Me)!=="svelte-e34mj"&&(Me.innerHTML=Je),ft=$(Bt),Be=f(Bt,"BUTTON",{class:!0,"data-svelte-h":!0}),ke(Be)!=="svelte-1dlwvzz"&&(Be.innerHTML=bt),Bt.forEach(m),dt.forEach(m),Lt.forEach(m),wl.forEach(m),Wt=$(We),ot=f(We,"DIV",{class:!0});var kl=v(ot);Xe.l(kl),kl.forEach(m),Yt=$(We),Re=f(We,"FOOTER",{class:!0});var st=v(Re);Jt=R(st,"Showing "),Dt=R(st,$t),Kt=R(st," of "),It=R(st,wt),Xt=R(st,` playlists • 
		Total: `),Pt=R(st,kt),Zt=R(st,` tracks • 
		`),Tt=R(st,yt),el=R(st," of music"),st.forEach(m),We.forEach(m),this.h()},h(){var P;Dl.title="Playlist Library - DJAMMS",c(u,"class","w-10 h-10 bg-gradient-to-br from-music-pink to-pink-700 rounded-xl flex items-center justify-center"),c(o,"class","flex items-center gap-4"),Ze(D.src,U=`https://ui-avatars.com/api/?name=${encodeURIComponent(((P=r[4].currentUser)==null?void 0:P.email)||"User")}&background=EC4899&color=fff`)||c(D,"src",U),c(D,"alt","User Avatar"),c(D,"class","w-8 h-8 rounded-full"),c(b,"class","text-white text-sm font-medium hidden sm:block"),c(p,"class","flex items-center gap-2"),c(a,"class","flex items-center gap-4"),c(s,"class","flex justify-between items-center p-4 glass-morphism border-b border-white/10"),c(L,"class","text-white font-medium"),c(S,"class","text-white font-medium"),c(O,"class","flex items-center gap-2 px-3 py-1 bg-white/10 rounded-lg"),c(X,"class","flex items-center gap-3"),c(ve,"class",ue="w-4 h-4 transition-transform "+(r[10]?"rotate-180":"")),c(K,"class","flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-music-pink to-pink-700 text-white rounded-lg hover:from-music-pink/90 hover:to-pink-700/90 transition-all"),c(B,"class","relative playlist-selector"),c(Q,"class","flex items-center justify-between"),c(Y,"class","p-4 border-b border-white/10 bg-white/5"),c(N,"type","text"),c(N,"placeholder","Search playlists..."),c(N,"class","w-full bg-white/10 border border-white/20 rounded-xl pl-10 pr-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-music-pink focus:bg-white/15 transition-all"),c(j,"class","relative flex-1 max-w-md"),c(ge,"class","px-6 py-3 bg-gradient-to-r from-music-pink to-pink-700 hover:from-music-pink/90 hover:to-pink-700/90 text-white rounded-xl font-medium transition-all flex items-center gap-2"),c(V,"class","flex gap-4 flex-1"),c(de,"class","px-4 py-2 rounded-l-xl text-sm font-medium transition-colors"),be(de,"bg-music-pink",r[2]==="all"),be(de,"text-white",r[2]==="all"),be(de,"text-gray-400",r[2]!=="all"),c(Ve,"class","px-4 py-2 text-sm font-medium transition-colors"),be(Ve,"bg-music-pink",r[2]==="public"),be(Ve,"text-white",r[2]==="public"),be(Ve,"text-gray-400",r[2]!=="public"),c(I,"class","px-4 py-2 rounded-r-xl text-sm font-medium transition-colors"),be(I,"bg-music-pink",r[2]==="private"),be(I,"text-white",r[2]==="private"),be(I,"text-gray-400",r[2]!=="private"),c(xe,"class","flex bg-white/10 rounded-xl border border-white/20"),Ae.__value="recent",mt(Ae,Ae.__value),Fe.__value="name",mt(Fe,Fe.__value),Oe.__value="tracks",mt(Oe,Oe.__value),je.__value="duration",mt(je,je.__value),c(Ee,"class","bg-white/10 border border-white/20 rounded-xl px-4 py-2 text-white text-sm focus:outline-none focus:border-music-pink"),r[3]===void 0&&Xl(()=>r[26].call(Ee)),c(Me,"class","p-2 rounded-l-xl transition-colors"),be(Me,"bg-music-pink",r[8]==="grid"),be(Me,"text-white",r[8]==="grid"),be(Me,"text-gray-400",r[8]!=="grid"),c(Be,"class","p-2 rounded-r-xl transition-colors"),be(Be,"bg-music-pink",r[8]==="list"),be(Be,"text-white",r[8]==="list"),be(Be,"text-gray-400",r[8]!=="list"),c(He,"class","flex bg-white/10 rounded-xl border border-white/20"),c(Ie,"class","flex gap-4 items-center"),c(F,"class","flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between"),c(fe,"class","p-6 border-b border-white/10"),c(ot,"class","flex-1 overflow-auto p-6"),c(Re,"class","p-4 border-t border-white/10 text-center text-gray-400 text-sm"),c(t,"class","flex flex-col h-screen bg-gradient-to-br from-youtube-dark via-youtube-darker to-music-pink")},m(P,ce){Te(P,e,ce),Te(P,t,ce),l(t,s),l(s,o),l(o,u),ee(n,u,null),l(o,_),l(o,i),l(s,g),l(s,a),Ue&&Ue.m(a,null),l(a,h),l(a,p),l(p,D),l(p,k),l(p,b),l(b,re),l(t,q),l(t,Y),l(Y,Q),l(Q,X),l(X,L),l(X,le),l(X,O),l(O,S),l(S,me),l(Q,pe),l(Q,B),l(B,K),l(K,_e),l(K,Ce),l(K,ve),ee(H,ve,null),l(B,De),Le&&Le.m(B,null),l(t,ne),l(t,fe),l(fe,F),l(F,V),l(V,j),ee(y,j,null),l(j,T),l(j,N),mt(N,r[1]),l(V,ie),l(V,ge),ee(z,ge,null),l(ge,M),l(F,G),l(F,Ie),l(Ie,xe),l(xe,de),l(xe,Se),l(xe,Ve),l(xe,oe),l(xe,I),l(Ie,Ne),l(Ie,Ee),l(Ee,Ae),l(Ee,Fe),l(Ee,Oe),l(Ee,je),yl(Ee,r[3],!0),l(Ie,ze),l(Ie,He),l(He,Me),l(He,ft),l(He,Be),l(t,Wt),l(t,ot),it[Ke].m(ot,null),l(t,Yt),l(t,Re),l(Re,Jt),l(Re,Dt),l(Re,Kt),l(Re,It),l(Re,Xt),l(Re,Pt),l(Re,Zt),l(Re,Tt),l(Re,el),we=!0,tl||(fl=[Pe(K,"click",r[17]),Pe(N,"input",r[21]),Pe(ge,"click",r[22]),Pe(de,"click",r[23]),Pe(Ve,"click",r[24]),Pe(I,"click",r[25]),Pe(Ee,"change",r[26]),Pe(Me,"click",r[27]),Pe(Be,"click",r[28])],tl=!0)},p(P,ce){var ct,ut,xt;P[12]?Ue?(Ue.p(rl(P),ce),ce[0]&4096&&x(Ue,1)):(Ue=Vl(rl(P)),Ue.c(),x(Ue,1),Ue.m(a,h)):Ue&&(qe(),C(Ue,1,1,()=>{Ue=null}),Ge()),(!we||ce[0]&16&&!Ze(D.src,U=`https://ui-avatars.com/api/?name=${encodeURIComponent(((ct=P[4].currentUser)==null?void 0:ct.email)||"User")}&background=EC4899&color=fff`))&&c(D,"src",U),(!we||ce[0]&16)&&A!==(A=((ut=P[4].currentUser)==null?void 0:ut.email)+"")&&$e(re,A),(!we||ce[0]&16)&&ae!==(ae=(((xt=P[4].currentVenue)==null?void 0:xt.venue_name)||"No venue selected")+"")&&$e(me,ae),(!we||ce[0]&1024&&ue!==(ue="w-4 h-4 transition-transform "+(P[10]?"rotate-180":"")))&&c(ve,"class",ue),P[10]?Le?(Le.p(P,ce),ce[0]&1024&&x(Le,1)):(Le=Nl(P),Le.c(),x(Le,1),Le.m(B,null)):Le&&(qe(),C(Le,1,1,()=>{Le=null}),Ge()),ce[0]&2&&N.value!==P[1]&&mt(N,P[1]),(!we||ce[0]&4)&&be(de,"bg-music-pink",P[2]==="all"),(!we||ce[0]&4)&&be(de,"text-white",P[2]==="all"),(!we||ce[0]&4)&&be(de,"text-gray-400",P[2]!=="all"),(!we||ce[0]&4)&&be(Ve,"bg-music-pink",P[2]==="public"),(!we||ce[0]&4)&&be(Ve,"text-white",P[2]==="public"),(!we||ce[0]&4)&&be(Ve,"text-gray-400",P[2]!=="public"),(!we||ce[0]&4)&&be(I,"bg-music-pink",P[2]==="private"),(!we||ce[0]&4)&&be(I,"text-white",P[2]==="private"),(!we||ce[0]&4)&&be(I,"text-gray-400",P[2]!=="private"),ce[0]&8&&yl(Ee,P[3]),(!we||ce[0]&256)&&be(Me,"bg-music-pink",P[8]==="grid"),(!we||ce[0]&256)&&be(Me,"text-white",P[8]==="grid"),(!we||ce[0]&256)&&be(Me,"text-gray-400",P[8]!=="grid"),(!we||ce[0]&256)&&be(Be,"bg-music-pink",P[8]==="list"),(!we||ce[0]&256)&&be(Be,"text-white",P[8]==="list"),(!we||ce[0]&256)&&be(Be,"text-gray-400",P[8]!=="list");let We=Ke;Ke=hl(P),Ke===We?it[Ke].p(P,ce):(qe(),C(it[We],1,1,()=>{it[We]=null}),Ge(),Xe=it[Ke],Xe?Xe.p(P,ce):(Xe=it[Ke]=dl[Ke](P),Xe.c()),x(Xe,1),Xe.m(ot,null)),(!we||ce[0]&2048)&&$t!==($t=P[11].length+"")&&$e(Dt,$t),(!we||ce[0]&1)&&wt!==(wt=P[0].length+"")&&$e(It,wt),(!we||ce[0]&1)&&kt!==(kt=P[0].reduce(Hl,0)+"")&&$e(Pt,kt),(!we||ce[0]&1)&&yt!==(yt=rt(at(P[0]))+"")&&$e(Tt,yt)},i(P){we||(x(n.$$.fragment,P),x(Ue),x(H.$$.fragment,P),x(Le),x(y.$$.fragment,P),x(z.$$.fragment,P),x(Xe),we=!0)},o(P){C(n.$$.fragment,P),C(Ue),C(H.$$.fragment,P),C(Le),C(y.$$.fragment,P),C(z.$$.fragment,P),C(Xe),we=!1},d(P){P&&(m(e),m(t)),Z(n),Ue&&Ue.d(),Z(H),Le&&Le.d(),Z(y),Z(z),it[Ke].d(),tl=!1,zt(fl)}}}function rt(r){const e=Math.floor(r/3600),t=Math.floor(r%3600/60);return e>0?`${e}h ${t}m`:`${t}m`}function Ft(r){return new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Bl(r){console.log("Editing playlist:",r)}function at(r){return r.reduce((e,t)=>e+(Array.isArray(t.tracks)?t.tracks.reduce((s,o)=>s+(o.duration||0),0):0),0)}const Hl=(r,e)=>{var t;return r+(((t=e.tracks)==null?void 0:t.length)||0)};function Ms(r,e,t){let s,o,u;xl(r,Ct,y=>t(4,o=y)),xl(r,rs,y=>t(12,u=y));let n=[],_=cs(),i=!0,E=null,g=null,a="",h="all",p="recent",D="grid",U=!1,k=!1;async function b(){try{t(5,i=!0),t(6,E=null),await Ct.loadPlaylists(),t(0,n=o.playlists||[]);const y=await _.getDefaultPlaylist();y&&(t(7,g=y),n.find(N=>N.$id===y.$id)||t(0,n=[g,...n])),console.log("Loaded playlists:",n)}catch(y){console.error("Failed to load playlists from Appwrite:",y),t(6,E="Failed to load playlists. Using fallback data."),t(0,n=sl.getFallbackPlaylists())}finally{t(5,i=!1)}}function A(y){if(y.isConnected)switch(o.playerState.status){case"playing":return{icon:Cl,text:"CONNECTED, PLAYING",class:"status-connected-playing"};case"paused":return{icon:Cl,text:"CONNECTED, PAUSED",class:"status-connected-paused"};default:return{icon:hs,text:"CONNECTED, IDLE",class:"status-connected-paused"}}else return{icon:ms,text:"DISCONNECTED",class:"status-disconnected"}}function re(y){confirm("Are you sure you want to delete this playlist?")&&sl.deletePlaylist(y).then(()=>{t(0,n=n.filter(T=>T.$id!==y))}).catch(T=>{console.error("Failed to delete playlist:",T),alert("Failed to delete playlist. Please try again.")})}function q(y){const T=n.find(N=>N.$id===y);T&&sl.updatePlaylist(y,{is_public:!T.is_public}).then(N=>{t(0,n=n.map(ie=>ie.$id===y?N:ie))}).catch(N=>{console.error("Failed to update playlist visibility:",N),alert("Failed to update playlist visibility. Please try again.")})}function Y(){t(10,k=!k)}function Q(y){console.log("Playing playlist:",y);const T=n.find(N=>N.$id===y);T&&(Ct.sendCommand("load_playlist_tracks",{tracks:T.tracks||[]}),window.location.href="/queuemanager")}function X(y){Ct.sendCommand("load_playlist_tracks",{tracks:y.tracks||[]}),window.location.href="/queuemanager"}function L(y){const T=y.target;k&&!T.closest(".playlist-selector")&&t(10,k=!1)}es(async()=>{if(o.isLoading&&await new Promise(y=>{const T=Ct.subscribe(N=>{N.isLoading||(T(),y(void 0))})}),!o.isAuthenticated){console.log("🔐 Playlist Library: User not authenticated, closing window"),alert("Authentication required. Please log in first."),window.close();return}if(ns.shouldPreventDuplicate()){alert("Playlist Library is already open in another window."),window.close();return}as.initializeForWindow(),document.addEventListener("click",L),await b()}),ts(()=>{document.removeEventListener("click",L)});const J=y=>X(y);function le(){a=this.value,t(1,a)}const O=()=>t(9,U=!0),S=()=>t(2,h="all"),ae=()=>t(2,h="public"),me=()=>t(2,h="private");function pe(){p=ls(this),t(3,p)}const B=()=>t(8,D="grid"),K=()=>t(8,D="list"),_e=()=>{g&&X(g)},ye=()=>{g&&Q(g.$id)},Ce=y=>Q(y.$id),ve=y=>Bl(y.$id),H=y=>q(y.$id),ue=()=>t(9,U=!0),De=()=>{g&&X(g)},ne=y=>Q(y.$id),fe=y=>Bl(y.$id),F=y=>q(y.$id),V=y=>re(y.$id),j=()=>t(9,U=!0);return r.$$.update=()=>{r.$$.dirty[0]&31&&t(11,s=n.filter(y=>{var z,M;const T=(z=o.currentUser)==null?void 0:z.$id;if(!(y.is_public||T&&y.owner_id===T))return!1;const ie=y.name.toLowerCase().includes(a.toLowerCase())||((M=y.description)==null?void 0:M.toLowerCase().includes(a.toLowerCase())),ge=h==="all"?!0:h==="public"?y.is_public:h==="private"?!y.is_public:!1;return ie&&ge}).sort((y,T)=>{switch(p){case"name":return y.name.localeCompare(T.name);case"tracks":return(Array.isArray(T.tracks)?T.tracks.length:0)-(Array.isArray(y.tracks)?y.tracks.length:0);case"duration":const N=Array.isArray(y.tracks)?y.tracks:[],ie=Array.isArray(T.tracks)?T.tracks:[],ge=N.reduce((M,G)=>M+(G.duration||0),0);return ie.reduce((M,G)=>M+(G.duration||0),0)-ge;case"recent":default:return new Date(T.$updatedAt).getTime()-new Date(y.$updatedAt).getTime()}}))},[n,a,h,p,o,i,E,g,D,U,k,s,u,b,A,re,q,Y,Q,X,J,le,O,S,ae,me,pe,B,K,_e,ye,Ce,ve,H,ue,De,ne,fe,F,V,j]}class tr extends al{constructor(e){super(),nl(this,e,Ms,Ss,il,{},null,[-1,-1])}}export{tr as component};
