import{S as Il,i as Tl,s as Vl,d as f,r as R,E as kl,u as N,v as T,G as Je,J as mt,e as a,a as be,K as Dt,F as It,b as ue,c as l,w as G,H as he,h as Nl,f as k,g as u,j as p,x as X,k as ne,l as Y,m as x,o as c,y as z,t as Z,L as Tt,p as Pl,M as Sl,N as dl,I as Ke,n as Ae,O as hl,P as xl,Q as ml,R as Ul,T as pl,U as vl}from"../chunks/BdqU9rtY.js";import{e as Rt}from"../chunks/Dp8WnmVE.js";import"../chunks/IHki7fMi.js";import{d as Me,c as ql,p as Ml,v as Al}from"../chunks/zxdJXzVg.js";import{p as Ll}from"../chunks/C0okxqSP.js";import{I as Ol,w as jl}from"../chunks/BGpGyOKF.js";import{P as Bl,M as Hl}from"../chunks/DfTSbLdx.js";import{g as Ql}from"../chunks/Di-L13FK.js";import{P as Vt}from"../chunks/OiUjXaK0.js";import{S as Fl,R as Rl,H as Gl,X as zl}from"../chunks/BFjZ0Txe.js";import{S as Wl,a as Jl,P as El}from"../chunks/CCD9zl8O.js";import{V as Kl}from"../chunks/CgE6rGxY.js";import{S as Cl}from"../chunks/rS_xTXPS.js";import{A as Dl}from"../chunks/CvKChqYc.js";import{L as Xl,G as Yl}from"../chunks/C7_bfwNy.js";import{W as Zl}from"../chunks/CZyi-2bT.js";import{C as _l}from"../chunks/Txwu-AoB.js";import{W as er}from"../chunks/C1wWesEz.js";function gl(s,e,r){const t=s.slice();return t[44]=e[r],t[46]=r,t}function tr(s,e,r){const t=s.slice();return t[41]=e[r],t}function Ft(s){const e=s.slice(),r=e[15](e[13]);return e[47]=r,e}function bl(s){let e,r,t,i,h=s[47].text+"",y,E,n;var w=s[47].icon;function C(d,_){return{props:{class:"w-4 h-4"}}}return w&&(r=dl(w,C())),{c(){e=c("div"),r&&z(r.$$.fragment),t=x(),i=c("span"),y=Z(h),this.h()},l(d){e=u(d,"DIV",{class:!0});var _=p(e);r&&X(r.$$.fragment,_),t=k(_),i=u(_,"SPAN",{class:!0});var o=p(i);y=Y(o,h),o.forEach(f),_.forEach(f),this.h()},h(){a(i,"class","hidden sm:inline"),a(e,"class",E="status-indicator "+s[47].class)},m(d,_){ue(d,e,_),r&&G(r,e,null),l(e,t),l(e,i),l(i,y),n=!0},p(d,_){if(_[0]&8192&&w!==(w=d[47].icon)){if(r){Ke();const o=r;N(o.$$.fragment,1,0,()=>{R(o,1)}),Je()}w?(r=dl(w,C()),z(r.$$.fragment),T(r.$$.fragment,1),G(r,e,t)):r=null}(!n||_[0]&8192)&&h!==(h=d[47].text+"")&&be(y,h),(!n||_[0]&8192&&E!==(E="status-indicator "+d[47].class))&&a(e,"class",E)},i(d){n||(r&&T(r.$$.fragment,d),n=!0)},o(d){r&&N(r.$$.fragment,d),n=!1},d(d){d&&f(e),r&&R(r)}}}function wl(s){let e,r,t="Default Available:",i,h,y=s[5].name+"",E,n,w,C;return{c(){e=c("div"),r=c("span"),r.textContent=t,i=x(),h=c("button"),E=Z(y),this.h()},l(d){e=u(d,"DIV",{class:!0});var _=p(e);r=u(_,"SPAN",{class:!0,"data-svelte-h":!0}),ne(r)!=="svelte-1sha4xh"&&(r.textContent=t),i=k(_),h=u(_,"BUTTON",{class:!0,title:!0});var o=p(h);E=Y(o,y),o.forEach(f),_.forEach(f),this.h()},h(){a(r,"class","text-xs text-gray-500"),a(h,"class","text-xs px-2 py-1 bg-music-purple/20 hover:bg-music-purple/30 text-music-purple border border-music-purple/30 rounded-full transition-colors"),a(h,"title",n="Load "+s[5].name+" into queue"),a(e,"class","flex items-center gap-2")},m(d,_){ue(d,e,_),l(e,r),l(e,i),l(e,h),l(h,E),w||(C=he(h,"click",s[20]),w=!0)},p(d,_){_[0]&32&&y!==(y=d[5].name+"")&&be(E,y),_[0]&32&&n!==(n="Load "+d[5].name+" into queue")&&a(h,"title",n)},d(d){d&&f(e),w=!1,C()}}}function lr(s){let e,r,t,i,h,y="No Track Selected",E,n,w="Select a track from your queue to start playing",C;return t=new Xl({props:{class:"w-16 h-16 text-gray-400"}}),{c(){e=c("div"),r=c("div"),z(t.$$.fragment),i=x(),h=c("h3"),h.textContent=y,E=x(),n=c("p"),n.textContent=w,this.h()},l(d){e=u(d,"DIV",{class:!0});var _=p(e);r=u(_,"DIV",{class:!0});var o=p(r);X(t.$$.fragment,o),o.forEach(f),i=k(_),h=u(_,"H3",{class:!0,"data-svelte-h":!0}),ne(h)!=="svelte-1j6syv4"&&(h.textContent=y),E=k(_),n=u(_,"P",{class:!0,"data-svelte-h":!0}),ne(n)!=="svelte-j5cwrq"&&(n.textContent=w),_.forEach(f),this.h()},h(){a(r,"class","w-48 h-48 mx-auto rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center mb-4"),a(h,"class","text-lg font-semibold text-white mb-1"),a(n,"class","text-gray-400"),a(e,"class","text-center mb-6")},m(d,_){ue(d,e,_),l(e,r),G(t,r,null),l(e,i),l(e,h),l(e,E),l(e,n),C=!0},p:Ae,i(d){C||(T(t.$$.fragment,d),C=!0)},o(d){N(t.$$.fragment,d),C=!1},d(d){d&&f(e),R(t)}}}function rr(s){let e,r,t,i,h,y,E,n,w,C,d,_=s[2].title+"",o,g,$,b=s[2].artist+"",D,V,P,W,S,ee,O,te,oe=ht(s[11])+"",ae,ce,fe,j=ht(s[10])+"",le,re;const de=[or,nr],M=[];function A(I,U){return I[12]?0:1}return n=A(s),w=M[n]=de[n](s),{c(){e=c("div"),r=c("div"),t=c("img"),y=x(),E=c("div"),w.c(),C=x(),d=c("h3"),o=Z(_),g=x(),$=c("p"),D=Z(b),V=x(),P=c("div"),W=c("div"),S=c("div"),ee=x(),O=c("div"),te=c("span"),ae=Z(oe),ce=x(),fe=c("span"),le=Z(j),this.h()},l(I){e=u(I,"DIV",{class:!0});var U=p(e);r=u(U,"DIV",{class:!0});var ie=p(r);t=u(ie,"IMG",{src:!0,alt:!0,class:!0}),y=k(ie),E=u(ie,"DIV",{class:!0});var Q=p(E);w.l(Q),Q.forEach(f),ie.forEach(f),C=k(U),d=u(U,"H3",{class:!0});var B=p(d);o=Y(B,_),B.forEach(f),g=k(U),$=u(U,"P",{class:!0});var $e=p($);D=Y($e,b),$e.forEach(f),V=k(U),P=u(U,"DIV",{class:!0});var q=p(P);W=u(q,"DIV",{class:!0});var J=p(W);S=u(J,"DIV",{class:!0,style:!0}),p(S).forEach(f),J.forEach(f),ee=k(q),O=u(q,"DIV",{class:!0});var m=p(O);te=u(m,"SPAN",{});var F=p(te);ae=Y(F,oe),F.forEach(f),ce=k(m),fe=u(m,"SPAN",{});var pe=p(fe);le=Y(pe,j),pe.forEach(f),m.forEach(f),q.forEach(f),U.forEach(f),this.h()},h(){mt(t.src,i=s[2].thumbnail)||a(t,"src",i),a(t,"alt",h=s[2].title),a(t,"class","w-48 h-48 mx-auto rounded-2xl shadow-2xl"),a(E,"class","absolute -bottom-2 -right-2 p-2 bg-youtube-red rounded-full shadow-lg"),a(r,"class","relative mb-4"),a(d,"class","text-xl font-bold text-white mb-1"),a($,"class","text-gray-400 mb-4"),a(S,"class","bg-gradient-to-r from-youtube-red to-music-purple h-2 rounded-full transition-all duration-300"),hl(S,"width",(s[10]>0?s[11]/s[10]*100:0)+"%"),a(W,"class","w-full bg-white/20 rounded-full h-2 mb-2"),a(O,"class","flex justify-between text-xs text-gray-400"),a(P,"class","mb-4"),a(e,"class","text-center mb-6")},m(I,U){ue(I,e,U),l(e,r),l(r,t),l(r,y),l(r,E),M[n].m(E,null),l(e,C),l(e,d),l(d,o),l(e,g),l(e,$),l($,D),l(e,V),l(e,P),l(P,W),l(W,S),l(P,ee),l(P,O),l(O,te),l(te,ae),l(O,ce),l(O,fe),l(fe,le),re=!0},p(I,U){(!re||U[0]&4&&!mt(t.src,i=I[2].thumbnail))&&a(t,"src",i),(!re||U[0]&4&&h!==(h=I[2].title))&&a(t,"alt",h);let ie=n;n=A(I),n!==ie&&(Ke(),N(M[ie],1,1,()=>{M[ie]=null}),Je(),w=M[n],w||(w=M[n]=de[n](I),w.c()),T(w,1),w.m(E,null)),(!re||U[0]&4)&&_!==(_=I[2].title+"")&&be(o,_),(!re||U[0]&4)&&b!==(b=I[2].artist+"")&&be(D,b),(!re||U[0]&3072)&&hl(S,"width",(I[10]>0?I[11]/I[10]*100:0)+"%"),(!re||U[0]&2048)&&oe!==(oe=ht(I[11])+"")&&be(ae,oe),(!re||U[0]&1024)&&j!==(j=ht(I[10])+"")&&be(le,j)},i(I){re||(T(w),re=!0)},o(I){N(w),re=!1},d(I){I&&f(e),M[n].d()}}}function sr(s){let e,r,t,i,h,y,E,n,w="Retry",C,d,_;return t=new Dl({props:{class:"w-8 h-8 text-red-400"}}),{c(){e=c("div"),r=c("div"),z(t.$$.fragment),i=x(),h=c("p"),y=Z(s[4]),E=x(),n=c("button"),n.textContent=w,this.h()},l(o){e=u(o,"DIV",{class:!0});var g=p(e);r=u(g,"DIV",{class:!0});var $=p(r);X(t.$$.fragment,$),$.forEach(f),i=k(g),h=u(g,"P",{class:!0});var b=p(h);y=Y(b,s[4]),b.forEach(f),E=k(g),n=u(g,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(n)!=="svelte-1ic0kcu"&&(n.textContent=w),g.forEach(f),this.h()},h(){a(r,"class","w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4"),a(h,"class","text-red-400 text-sm mb-4"),a(n,"class","px-4 py-2 bg-gradient-to-r from-music-purple to-purple-700 text-white rounded-full text-sm"),a(e,"class","text-center mb-6")},m(o,g){ue(o,e,g),l(e,r),G(t,r,null),l(e,i),l(e,h),l(h,y),l(e,E),l(e,n),C=!0,d||(_=he(n,"click",s[23]),d=!0)},p(o,g){(!C||g[0]&16)&&be(y,o[4])},i(o){C||(T(t.$$.fragment,o),C=!0)},o(o){N(t.$$.fragment,o),C=!1},d(o){o&&f(e),R(t),d=!1,_()}}}function ar(s){let e,r='<div class="w-48 h-48 mx-auto rounded-2xl bg-white/10 animate-pulse mb-4"></div> <div class="h-6 bg-white/10 rounded mb-2 animate-pulse"></div> <div class="h-4 bg-white/10 rounded w-2/3 mx-auto animate-pulse"></div>';return{c(){e=c("div"),e.innerHTML=r,this.h()},l(t){e=u(t,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1meyhq0"&&(e.innerHTML=r),this.h()},h(){a(e,"class","text-center mb-6")},m(t,i){ue(t,e,i)},p:Ae,i:Ae,o:Ae,d(t){t&&f(e)}}}function nr(s){let e,r;return e=new Vt({props:{class:"w-5 h-5 text-white"}}),{c(){z(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,i){G(e,t,i),r=!0},i(t){r||(T(e.$$.fragment,t),r=!0)},o(t){N(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function or(s){let e,r;return e=new El({props:{class:"w-5 h-5 text-white"}}),{c(){z(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,i){G(e,t,i),r=!0},i(t){r||(T(e.$$.fragment,t),r=!0)},o(t){N(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function ir(s){let e,r;return e=new Vt({props:{class:"w-8 h-8 ml-1"}}),{c(){z(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,i){G(e,t,i),r=!0},i(t){r||(T(e.$$.fragment,t),r=!0)},o(t){N(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function ur(s){let e,r;return e=new El({props:{class:"w-8 h-8"}}),{c(){z(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,i){G(e,t,i),r=!0},i(t){r||(T(e.$$.fragment,t),r=!0)},o(t){N(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function $l(s){let e,r="1";return{c(){e=c("span"),e.textContent=r,this.h()},l(t){e=u(t,"SPAN",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1660g9l"&&(e.textContent=r),this.h()},h(){a(e,"class","absolute -mt-6 ml-2 text-xs")},m(t,i){ue(t,e,i)},d(t){t&&f(e)}}}function cr(s){let e,r,t,i,h,y,E=Rt(s[9]),n=[];for(let o=0;o<E.length;o+=1)n[o]=yl(gl(s,E,o));const w=o=>N(n[o],1,1,()=>{n[o]=null}),C=[mr,hr],d=[];function _(o,g){return o[9].length===0&&!o[0]?0:o[9].length===0&&o[0]?1:-1}return~(t=_(s))&&(i=d[t]=C[t](s)),{c(){e=c("div");for(let o=0;o<n.length;o+=1)n[o].c();r=x(),i&&i.c(),h=ml(),this.h()},l(o){e=u(o,"DIV",{class:!0});var g=p(e);for(let $=0;$<n.length;$+=1)n[$].l(g);g.forEach(f),r=k(o),i&&i.l(o),h=ml(),this.h()},h(){a(e,"class","space-y-3")},m(o,g){ue(o,e,g);for(let $=0;$<n.length;$+=1)n[$]&&n[$].m(e,null);ue(o,r,g),~t&&d[t].m(o,g),ue(o,h,g),y=!0},p(o,g){if(g[0]&983552){E=Rt(o[9]);let b;for(b=0;b<E.length;b+=1){const D=gl(o,E,b);n[b]?(n[b].p(D,g),T(n[b],1)):(n[b]=yl(D),n[b].c(),T(n[b],1),n[b].m(e,null))}for(Ke(),b=E.length;b<n.length;b+=1)w(b);Je()}let $=t;t=_(o),t===$?~t&&d[t].p(o,g):(i&&(Ke(),N(d[$],1,1,()=>{d[$]=null}),Je()),~t?(i=d[t],i?i.p(o,g):(i=d[t]=C[t](o),i.c()),T(i,1),i.m(h.parentNode,h)):i=null)},i(o){if(!y){for(let g=0;g<E.length;g+=1)T(n[g]);T(i),y=!0}},o(o){n=n.filter(Boolean);for(let g=0;g<n.length;g+=1)N(n[g]);N(i),y=!1},d(o){o&&(f(e),f(r),f(h)),xl(n,o),~t&&d[t].d(o)}}}function fr(s){let e,r,t,i,h,y="Failed to Load Queue",E,n,w,C,d,_="Try Again",o,g,$;return t=new Dl({props:{class:"w-8 h-8 text-red-400"}}),{c(){e=c("div"),r=c("div"),z(t.$$.fragment),i=x(),h=c("h3"),h.textContent=y,E=x(),n=c("p"),w=Z(s[4]),C=x(),d=c("button"),d.textContent=_,this.h()},l(b){e=u(b,"DIV",{class:!0});var D=p(e);r=u(D,"DIV",{class:!0});var V=p(r);X(t.$$.fragment,V),V.forEach(f),i=k(D),h=u(D,"H3",{class:!0,"data-svelte-h":!0}),ne(h)!=="svelte-evtawt"&&(h.textContent=y),E=k(D),n=u(D,"P",{class:!0});var P=p(n);w=Y(P,s[4]),P.forEach(f),C=k(D),d=u(D,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(d)!=="svelte-1rt6ne1"&&(d.textContent=_),D.forEach(f),this.h()},h(){a(r,"class","w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4"),a(h,"class","text-lg font-semibold text-white mb-2"),a(n,"class","text-gray-400 mb-4"),a(d,"class","px-6 py-3 bg-gradient-to-r from-youtube-red to-music-purple text-white rounded-full font-medium hover:shadow-lg transition-all"),a(e,"class","text-center py-16")},m(b,D){ue(b,e,D),l(e,r),G(t,r,null),l(e,i),l(e,h),l(e,E),l(e,n),l(n,w),l(e,C),l(e,d),o=!0,g||($=he(d,"click",s[29]),g=!0)},p(b,D){(!o||D[0]&16)&&be(w,b[4])},i(b){o||(T(t.$$.fragment,b),o=!0)},o(b){N(t.$$.fragment,b),o=!1},d(b){b&&f(e),R(t),g=!1,$()}}}function dr(s){let e,r=Rt(Array(3)),t=[];for(let i=0;i<r.length;i+=1)t[i]=pr(tr(s,r,i));return{c(){e=c("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=u(i,"DIV",{class:!0});var h=p(e);for(let y=0;y<t.length;y+=1)t[y].l(h);h.forEach(f),this.h()},h(){a(e,"class","space-y-3")},m(i,h){ue(i,e,h);for(let y=0;y<t.length;y+=1)t[y]&&t[y].m(e,null)},p:Ae,i:Ae,o:Ae,d(i){i&&f(e),xl(t,i)}}}function yl(s){let e,r,t,i,h,y=s[46]+1+"",E,n,w,C,d,_,o,g,$,b,D=s[44].title+"",V,P,W,S=s[44].artist+"",ee,O,te,oe,ae=ht(s[44].duration)+"",ce,fe,j,le,re='<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg>',de,M,A,I,U,ie,Q,B,$e,q,J,m,F,pe,De;t=new Yl({props:{class:"w-4 h-4"}});function pt(){return s[30](s[44])}function Ie(){return s[31](s[44])}function ye(...H){return s[32](s[44],...H)}function ke(){return s[33](s[46])}function vt(){return s[34](s[46])}B=new Hl({props:{class:"w-4 h-4"}}),J=new zl({props:{class:"w-4 h-4"}});function Le(){return s[35](s[44])}return{c(){e=c("div"),r=c("button"),z(t.$$.fragment),i=x(),h=c("div"),E=Z(y),n=x(),w=c("button"),C=c("img"),g=x(),$=c("div"),b=c("h3"),V=Z(D),P=x(),W=c("p"),ee=Z(S),te=x(),oe=c("div"),ce=Z(ae),fe=x(),j=c("div"),le=c("button"),le.innerHTML=re,de=x(),M=c("button"),A=vl("svg"),I=vl("path"),ie=x(),Q=c("button"),z(B.$$.fragment),$e=x(),q=c("button"),z(J.$$.fragment),m=x(),this.h()},l(H){e=u(H,"DIV",{class:!0});var L=p(e);r=u(L,"BUTTON",{class:!0});var ve=p(r);X(t.$$.fragment,ve),ve.forEach(f),i=k(L),h=u(L,"DIV",{class:!0});var Te=p(h);E=Y(Te,y),Te.forEach(f),n=k(L),w=u(L,"BUTTON",{type:!0,class:!0,title:!0});var it=p(w);C=u(it,"IMG",{src:!0,alt:!0,class:!0}),it.forEach(f),g=k(L),$=u(L,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0});var Oe=p($);b=u(Oe,"H3",{class:!0});var xe=p(b);V=Y(xe,D),xe.forEach(f),P=k(Oe),W=u(Oe,"P",{class:!0});var Ve=p(W);ee=Y(Ve,S),Ve.forEach(f),Oe.forEach(f),te=k(L),oe=u(L,"DIV",{class:!0});var ut=p(oe);ce=Y(ut,ae),ut.forEach(f),fe=k(L),j=u(L,"DIV",{class:!0});var _e=p(j);le=u(_e,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(le)!=="svelte-rqv5pt"&&(le.innerHTML=re),de=k(_e),M=u(_e,"BUTTON",{class:!0});var we=p(M);A=pl(we,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var ct=p(A);I=pl(ct,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(I).forEach(f),ct.forEach(f),we.forEach(f),ie=k(_e),Q=u(_e,"BUTTON",{class:!0});var Ne=p(Q);X(B.$$.fragment,Ne),Ne.forEach(f),$e=k(_e),q=u(_e,"BUTTON",{class:!0});var Xe=p(q);X(J.$$.fragment,Xe),Xe.forEach(f),_e.forEach(f),m=k(L),L.forEach(f),this.h()},h(){a(r,"class","opacity-0 group-hover:opacity-100 text-gray-400 hover:text-white transition-all"),a(h,"class","w-8 h-8 flex items-center justify-center bg-white/10 rounded-lg text-sm font-medium text-white"),mt(C.src,d=s[44].thumbnail)||a(C,"src",d),a(C,"alt",_=s[44].title),a(C,"class","w-12 h-12 rounded-lg object-cover"),a(w,"type","button"),a(w,"class","p-0 border-0 bg-transparent cursor-pointer hover:opacity-75 transition-opacity focus:outline-none focus:ring-2 focus:ring-music-purple focus:ring-offset-2 focus:ring-offset-gray-900 rounded-lg"),a(w,"title",o="Play "+s[44].title),a(b,"class","font-semibold text-white truncate hover:text-music-purple transition-colors"),a(W,"class","text-gray-400 text-sm truncate"),a($,"class","flex-1 min-w-0 cursor-pointer focus:outline-none focus:ring-2 focus:ring-music-purple rounded"),a($,"role","button"),a($,"tabindex","0"),a($,"aria-label",O="Play "+s[44].title+" by "+s[44].artist),a(oe,"class","text-gray-400 text-sm"),le.disabled=s[46]===0,a(le,"class","p-2 text-gray-400 hover:text-white disabled:opacity-30 disabled:cursor-not-allowed transition-colors"),a(I,"stroke-linecap","round"),a(I,"stroke-linejoin","round"),a(I,"stroke-width","2"),a(I,"d","M19 9l-7 7-7-7"),a(A,"class","w-4 h-4"),a(A,"fill","none"),a(A,"stroke","currentColor"),a(A,"viewBox","0 0 24 24"),M.disabled=U=s[46]===s[9].length-1,a(M,"class","p-2 text-gray-400 hover:text-white disabled:opacity-30 disabled:cursor-not-allowed transition-colors"),a(Q,"class","p-2 text-gray-400 hover:text-white transition-colors"),a(q,"class","p-2 text-gray-400 hover:text-red-400 transition-colors"),a(j,"class","flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity"),a(e,"class","group flex items-center gap-4 p-4 bg-white/5 hover:bg-white/10 rounded-xl border border-white/10 transition-all")},m(H,L){ue(H,e,L),l(e,r),G(t,r,null),l(e,i),l(e,h),l(h,E),l(e,n),l(e,w),l(w,C),l(e,g),l(e,$),l($,b),l(b,V),l($,P),l($,W),l(W,ee),l(e,te),l(e,oe),l(oe,ce),l(e,fe),l(e,j),l(j,le),l(j,de),l(j,M),l(M,A),l(A,I),l(j,ie),l(j,Q),G(B,Q,null),l(j,$e),l(j,q),G(J,q,null),l(e,m),F=!0,pe||(De=[he(w,"click",pt),he($,"click",Ie),he($,"keydown",ye),he(le,"click",ke),he(M,"click",vt),he(q,"click",Le)],pe=!0)},p(H,L){s=H,(!F||L[0]&512&&!mt(C.src,d=s[44].thumbnail))&&a(C,"src",d),(!F||L[0]&512&&_!==(_=s[44].title))&&a(C,"alt",_),(!F||L[0]&512&&o!==(o="Play "+s[44].title))&&a(w,"title",o),(!F||L[0]&512)&&D!==(D=s[44].title+"")&&be(V,D),(!F||L[0]&512)&&S!==(S=s[44].artist+"")&&be(ee,S),(!F||L[0]&512&&O!==(O="Play "+s[44].title+" by "+s[44].artist))&&a($,"aria-label",O),(!F||L[0]&512)&&ae!==(ae=ht(s[44].duration)+"")&&be(ce,ae),(!F||L[0]&512&&U!==(U=s[46]===s[9].length-1))&&(M.disabled=U)},i(H){F||(T(t.$$.fragment,H),T(B.$$.fragment,H),T(J.$$.fragment,H),F=!0)},o(H){N(t.$$.fragment,H),N(B.$$.fragment,H),N(J.$$.fragment,H),F=!1},d(H){H&&f(e),R(t),R(B),R(J),pe=!1,kl(De)}}}function hr(s){let e,r,t,i,h,y="No Results Found",E,n,w,C,d,_,o,g="Clear Search",$,b,D;return t=new Cl({props:{class:"w-8 h-8 text-gray-400"}}),{c(){e=c("div"),r=c("div"),z(t.$$.fragment),i=x(),h=c("h3"),h.textContent=y,E=x(),n=c("p"),w=Z('No tracks match "'),C=Z(s[0]),d=Z('"'),_=x(),o=c("button"),o.textContent=g,this.h()},l(V){e=u(V,"DIV",{class:!0});var P=p(e);r=u(P,"DIV",{class:!0});var W=p(r);X(t.$$.fragment,W),W.forEach(f),i=k(P),h=u(P,"H3",{class:!0,"data-svelte-h":!0}),ne(h)!=="svelte-knzorx"&&(h.textContent=y),E=k(P),n=u(P,"P",{class:!0});var S=p(n);w=Y(S,'No tracks match "'),C=Y(S,s[0]),d=Y(S,'"'),S.forEach(f),_=k(P),o=u(P,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(o)!=="svelte-f8q128"&&(o.textContent=g),P.forEach(f),this.h()},h(){a(r,"class","w-16 h-16 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-4"),a(h,"class","text-lg font-semibold text-white mb-2"),a(n,"class","text-gray-400 mb-4"),a(o,"class","px-6 py-3 bg-gradient-to-r from-youtube-red to-music-purple text-white rounded-full font-medium hover:shadow-lg transition-all"),a(e,"class","text-center py-16")},m(V,P){ue(V,e,P),l(e,r),G(t,r,null),l(e,i),l(e,h),l(e,E),l(e,n),l(n,w),l(n,C),l(n,d),l(e,_),l(e,o),$=!0,b||(D=he(o,"click",s[37]),b=!0)},p(V,P){(!$||P[0]&1)&&be(C,V[0])},i(V){$||(T(t.$$.fragment,V),$=!0)},o(V){N(t.$$.fragment,V),$=!1},d(V){V&&f(e),R(t),b=!1,D()}}}function mr(s){let e,r,t,i,h,y="Queue is Empty",E,n,w="Add songs to your queue to start playing music",C,d,_="Reload Queue",o,g,$;return t=new Vt({props:{class:"w-8 h-8 text-gray-400"}}),{c(){e=c("div"),r=c("div"),z(t.$$.fragment),i=x(),h=c("h3"),h.textContent=y,E=x(),n=c("p"),n.textContent=w,C=x(),d=c("button"),d.textContent=_,this.h()},l(b){e=u(b,"DIV",{class:!0});var D=p(e);r=u(D,"DIV",{class:!0});var V=p(r);X(t.$$.fragment,V),V.forEach(f),i=k(D),h=u(D,"H3",{class:!0,"data-svelte-h":!0}),ne(h)!=="svelte-1v2spsg"&&(h.textContent=y),E=k(D),n=u(D,"P",{class:!0,"data-svelte-h":!0}),ne(n)!=="svelte-jy8vdx"&&(n.textContent=w),C=k(D),d=u(D,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(d)!=="svelte-3r03q9"&&(d.textContent=_),D.forEach(f),this.h()},h(){a(r,"class","w-16 h-16 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-4"),a(h,"class","text-lg font-semibold text-white mb-2"),a(n,"class","text-gray-400 mb-4"),a(d,"class","px-6 py-3 bg-gradient-to-r from-youtube-red to-music-purple text-white rounded-full font-medium hover:shadow-lg transition-all"),a(e,"class","text-center py-16")},m(b,D){ue(b,e,D),l(e,r),G(t,r,null),l(e,i),l(e,h),l(e,E),l(e,n),l(e,C),l(e,d),o=!0,g||($=he(d,"click",s[36]),g=!0)},p:Ae,i(b){o||(T(t.$$.fragment,b),o=!0)},o(b){N(t.$$.fragment,b),o=!1},d(b){b&&f(e),R(t),g=!1,$()}}}function pr(s){let e,r='<div class="w-8 h-8 bg-white/10 rounded-lg animate-pulse"></div> <div class="w-12 h-12 bg-white/10 rounded-lg animate-pulse"></div> <div class="flex-1"><div class="h-4 bg-white/10 rounded mb-2 animate-pulse"></div> <div class="h-3 bg-white/10 rounded w-2/3 animate-pulse"></div></div> ';return{c(){e=c("div"),e.innerHTML=r,this.h()},l(t){e=u(t,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1icqmik"&&(e.innerHTML=r),this.h()},h(){a(e,"class","flex items-center gap-4 p-4 bg-white/5 rounded-xl border border-white/10")},m(t,i){ue(t,e,i)},p:Ae,d(t){t&&f(e)}}}function vr(s){var el,tl;let e,r,t,i,h,y,E,n,w='<h1 class="text-xl font-bold text-white">Queue Manager</h1> <p class="text-gray-400 text-sm">Manage your music queue and playback</p>',C,d,_,o,g,$,b,D,V=((el=s[1].currentUser)==null?void 0:el.email)+"",P,W,S,ee,O,te,oe="Venue Queue:",ae,ce,fe=(((tl=s[1].currentVenue)==null?void 0:tl.venue_name)||"No venue selected")+"",j,le,re,de,M,A,I,U="Now Playing",ie,Q,B,$e,q,J,m,F,pe,De,pt,Ie,ye,ke,vt,Le,H,L,ve,Te,it,Oe,xe,Ve,ut,_e,we,ct,Ne,Xe,Nt,Pt,ft,je,Ye,Ze,St,Ut,et,tt,qt,Mt,Be,He,lt,Gt="Queue",At,Qe,rt,Lt,Pe,Ot,st,Ee,Ce,Se,jt,zt;y=new Vt({props:{class:"w-6 h-6 text-white"}});let se=s[13]&&bl(Ft(s)),me=s[5]&&wl(s);const Wt=[ar,sr,rr,lr],Fe=[];function Jt(v,K){return v[3]?0:v[4]?1:v[2]&&v[2].video_id?2:3}Q=Jt(s),B=Fe[Q]=Wt[Q](s),m=new Fl({props:{class:"w-5 h-5"}}),De=new Wl({props:{class:"w-6 h-6"}});const Kt=[ur,ir],at=[];function Xt(v,K){return v[12]?0:1}ye=Xt(s),ke=at[ye]=Kt[ye](s),H=new Jl({props:{class:"w-6 h-6"}}),Te=new Rl({props:{class:"w-5 h-5"}});let ge=s[8]==="one"&&$l();Ve=new Kl({props:{class:"w-5 h-5 text-gray-400"}}),Ze=new Gl({props:{class:"w-4 h-4 mx-auto mb-1"}}),tt=new Bl({props:{class:"w-4 h-4 mx-auto mb-1"}}),rt=new Cl({props:{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}});const Yt=[dr,fr,cr],Re=[];function Zt(v,K){return v[3]?0:v[4]?1:2}return Ee=Zt(s),Ce=Re[Ee]=Yt[Ee](s),{c(){e=x(),r=c("main"),t=c("header"),i=c("div"),h=c("div"),z(y.$$.fragment),E=x(),n=c("div"),n.innerHTML=w,C=x(),d=c("div"),se&&se.c(),_=x(),o=c("div"),g=c("img"),b=x(),D=c("span"),P=Z(V),W=x(),S=c("div"),ee=c("div"),O=c("div"),te=c("span"),te.textContent=oe,ae=x(),ce=c("span"),j=Z(fe),le=x(),me&&me.c(),re=x(),de=c("div"),M=c("div"),A=c("div"),I=c("h2"),I.textContent=U,ie=x(),B.c(),$e=x(),q=c("div"),J=c("button"),z(m.$$.fragment),F=x(),pe=c("button"),z(De.$$.fragment),pt=x(),Ie=c("button"),ke.c(),vt=x(),Le=c("button"),z(H.$$.fragment),L=x(),ve=c("button"),z(Te.$$.fragment),it=x(),ge&&ge.c(),Oe=x(),xe=c("div"),z(Ve.$$.fragment),ut=x(),_e=c("div"),we=c("input"),ct=x(),Ne=c("span"),Xe=Z(s[6]),Nt=Z("%"),Pt=x(),ft=c("div"),je=c("div"),Ye=c("button"),z(Ze.$$.fragment),St=Z(`
						Like`),Ut=x(),et=c("button"),z(tt.$$.fragment),qt=Z(`
						Add to Playlist`),Mt=x(),Be=c("div"),He=c("div"),lt=c("h2"),lt.textContent=Gt,At=x(),Qe=c("div"),z(rt.$$.fragment),Lt=x(),Pe=c("input"),Ot=x(),st=c("div"),Ce.c(),this.h()},l(v){Nl("svelte-1qylz11",document.head).forEach(f),e=k(v),r=u(v,"MAIN",{class:!0});var Ue=p(r);t=u(Ue,"HEADER",{class:!0});var Ge=p(t);i=u(Ge,"DIV",{class:!0});var ze=p(i);h=u(ze,"DIV",{class:!0});var _t=p(h);X(y.$$.fragment,_t),_t.forEach(f),E=k(ze),n=u(ze,"DIV",{"data-svelte-h":!0}),ne(n)!=="svelte-12gv8il"&&(n.innerHTML=w),ze.forEach(f),C=k(Ge),d=u(Ge,"DIV",{class:!0});var nt=p(d);se&&se.l(nt),_=k(nt),o=u(nt,"DIV",{class:!0});var ot=p(o);g=u(ot,"IMG",{src:!0,alt:!0,class:!0}),b=k(ot),D=u(ot,"SPAN",{class:!0});var ll=p(D);P=Y(ll,V),ll.forEach(f),ot.forEach(f),nt.forEach(f),Ge.forEach(f),W=k(Ue),S=u(Ue,"DIV",{class:!0});var rl=p(S);ee=u(rl,"DIV",{class:!0});var gt=p(ee);O=u(gt,"DIV",{class:!0});var bt=p(O);te=u(bt,"SPAN",{class:!0,"data-svelte-h":!0}),ne(te)!=="svelte-13qswol"&&(te.textContent=oe),ae=k(bt),ce=u(bt,"SPAN",{class:!0});var sl=p(ce);j=Y(sl,fe),sl.forEach(f),bt.forEach(f),le=k(gt),me&&me.l(gt),gt.forEach(f),rl.forEach(f),re=k(Ue),de=u(Ue,"DIV",{class:!0});var wt=p(de);M=u(wt,"DIV",{class:!0});var $t=p(M);A=u($t,"DIV",{class:!0});var We=p(A);I=u(We,"H2",{class:!0,"data-svelte-h":!0}),ne(I)!=="svelte-vgvofq"&&(I.textContent=U),ie=k(We),B.l(We),$e=k(We),q=u(We,"DIV",{class:!0});var qe=p(q);J=u(qe,"BUTTON",{class:!0});var al=p(J);X(m.$$.fragment,al),al.forEach(f),F=k(qe),pe=u(qe,"BUTTON",{class:!0});var nl=p(pe);X(De.$$.fragment,nl),nl.forEach(f),pt=k(qe),Ie=u(qe,"BUTTON",{class:!0});var ol=p(Ie);ke.l(ol),ol.forEach(f),vt=k(qe),Le=u(qe,"BUTTON",{class:!0});var il=p(Le);X(H.$$.fragment,il),il.forEach(f),L=k(qe),ve=u(qe,"BUTTON",{class:!0});var yt=p(ve);X(Te.$$.fragment,yt),it=k(yt),ge&&ge.l(yt),yt.forEach(f),qe.forEach(f),Oe=k(We),xe=u(We,"DIV",{class:!0});var dt=p(xe);X(Ve.$$.fragment,dt),ut=k(dt),_e=u(dt,"DIV",{class:!0});var ul=p(_e);we=u(ul,"INPUT",{type:!0,min:!0,max:!0,class:!0}),ul.forEach(f),ct=k(dt),Ne=u(dt,"SPAN",{class:!0});var Bt=p(Ne);Xe=Y(Bt,s[6]),Nt=Y(Bt,"%"),Bt.forEach(f),dt.forEach(f),We.forEach(f),Pt=k($t),ft=u($t,"DIV",{class:!0});var cl=p(ft);je=u(cl,"DIV",{class:!0});var kt=p(je);Ye=u(kt,"BUTTON",{class:!0});var Ht=p(Ye);X(Ze.$$.fragment,Ht),St=Y(Ht,`
						Like`),Ht.forEach(f),Ut=k(kt),et=u(kt,"BUTTON",{class:!0});var Qt=p(et);X(tt.$$.fragment,Qt),qt=Y(Qt,`
						Add to Playlist`),Qt.forEach(f),kt.forEach(f),cl.forEach(f),$t.forEach(f),Mt=k(wt),Be=u(wt,"DIV",{class:!0});var xt=p(Be);He=u(xt,"DIV",{class:!0});var Et=p(He);lt=u(Et,"H2",{class:!0,"data-svelte-h":!0}),ne(lt)!=="svelte-1aggl1h"&&(lt.textContent=Gt),At=k(Et),Qe=u(Et,"DIV",{class:!0});var Ct=p(Qe);X(rt.$$.fragment,Ct),Lt=k(Ct),Pe=u(Ct,"INPUT",{type:!0,placeholder:!0,class:!0}),Ct.forEach(f),Et.forEach(f),Ot=k(xt),st=u(xt,"DIV",{class:!0});var fl=p(st);Ce.l(fl),fl.forEach(f),xt.forEach(f),wt.forEach(f),Ue.forEach(f),this.h()},h(){var v;document.title="Queue Manager - DJAMMS",a(h,"class","w-10 h-10 bg-gradient-to-br from-music-purple to-purple-700 rounded-xl flex items-center justify-center"),a(i,"class","flex items-center gap-4"),mt(g.src,$=`https://ui-avatars.com/api/?name=${encodeURIComponent(((v=s[1].currentUser)==null?void 0:v.email)||"User")}&background=7C3AED&color=fff`)||a(g,"src",$),a(g,"alt","User Avatar"),a(g,"class","w-8 h-8 rounded-full"),a(D,"class","text-white text-sm font-medium hidden sm:block"),a(o,"class","flex items-center gap-2"),a(d,"class","flex items-center gap-4"),a(t,"class","flex justify-between items-center p-4 glass-morphism border-b border-white/10"),a(te,"class","text-sm text-gray-400"),a(ce,"class","text-white font-medium"),a(O,"class","text-center flex-1"),a(ee,"class","flex items-center justify-between"),a(S,"class","px-4 py-3 bg-surface-50-900-token border-b border-white/10"),a(I,"class","text-lg font-semibold text-white mb-4"),a(J,"class","p-2 text-gray-400 hover:text-white transition-colors"),Dt(J,"text-music-purple",s[7]),a(pe,"class","p-3 text-white hover:text-gray-300 transition-colors"),a(Ie,"class","p-4 bg-gradient-to-r from-youtube-red to-music-purple hover:from-youtube-red/90 hover:to-music-purple/90 rounded-full text-white transition-all transform hover:scale-105"),a(Le,"class","p-3 text-white hover:text-gray-300 transition-colors"),a(ve,"class","p-2 text-gray-400 hover:text-white transition-colors"),Dt(ve,"text-music-purple",s[8]!=="none"),a(q,"class","flex justify-center items-center gap-4 mb-6"),a(we,"type","range"),a(we,"min","0"),a(we,"max","100"),a(we,"class","w-full h-2 bg-white/20 rounded-full appearance-none cursor-pointer"),a(_e,"class","flex-1"),a(Ne,"class","text-sm text-gray-400 w-10"),a(xe,"class","flex items-center gap-3"),a(A,"class","p-6 border-b border-white/10"),a(Ye,"class","p-3 bg-white/5 hover:bg-white/10 rounded-xl border border-white/10 text-white text-sm font-medium transition-colors"),a(et,"class","p-3 bg-white/5 hover:bg-white/10 rounded-xl border border-white/10 text-white text-sm font-medium transition-colors"),a(je,"class","grid grid-cols-2 gap-3"),a(ft,"class","p-6"),a(M,"class","w-1/3 border-r border-white/10 flex flex-col"),a(lt,"class","text-lg font-semibold text-white mb-4"),a(Pe,"type","text"),a(Pe,"placeholder","Search for songs to add to queue..."),a(Pe,"class","w-full bg-white/10 border border-white/20 rounded-xl pl-10 pr-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-music-purple focus:bg-white/15 transition-all"),a(Qe,"class","relative"),a(He,"class","p-6 border-b border-white/10"),a(st,"class","flex-1 overflow-auto p-6"),a(Be,"class","flex-1 flex flex-col"),a(de,"class","flex-1 flex overflow-hidden"),a(r,"class","flex flex-col h-screen bg-gradient-to-br from-youtube-dark via-youtube-darker to-music-purple")},m(v,K){ue(v,e,K),ue(v,r,K),l(r,t),l(t,i),l(i,h),G(y,h,null),l(i,E),l(i,n),l(t,C),l(t,d),se&&se.m(d,null),l(d,_),l(d,o),l(o,g),l(o,b),l(o,D),l(D,P),l(r,W),l(r,S),l(S,ee),l(ee,O),l(O,te),l(O,ae),l(O,ce),l(ce,j),l(ee,le),me&&me.m(ee,null),l(r,re),l(r,de),l(de,M),l(M,A),l(A,I),l(A,ie),Fe[Q].m(A,null),l(A,$e),l(A,q),l(q,J),G(m,J,null),l(q,F),l(q,pe),G(De,pe,null),l(q,pt),l(q,Ie),at[ye].m(Ie,null),l(q,vt),l(q,Le),G(H,Le,null),l(q,L),l(q,ve),G(Te,ve,null),l(ve,it),ge&&ge.m(ve,null),l(A,Oe),l(A,xe),G(Ve,xe,null),l(xe,ut),l(xe,_e),l(_e,we),It(we,s[6]),l(xe,ct),l(xe,Ne),l(Ne,Xe),l(Ne,Nt),l(M,Pt),l(M,ft),l(ft,je),l(je,Ye),G(Ze,Ye,null),l(Ye,St),l(je,Ut),l(je,et),G(tt,et,null),l(et,qt),l(de,Mt),l(de,Be),l(Be,He),l(He,lt),l(He,At),l(He,Qe),G(rt,Qe,null),l(Qe,Lt),l(Qe,Pe),It(Pe,s[0]),l(Be,Ot),l(Be,st),Re[Ee].m(st,null),Se=!0,jt||(zt=[he(J,"click",s[24]),he(Ie,"click",s[25]),he(ve,"click",s[26]),he(we,"change",s[27]),he(we,"input",s[27]),he(Pe,"input",s[28])],jt=!0)},p(v,K){var _t,nt,ot;v[13]?se?(se.p(Ft(v),K),K[0]&8192&&T(se,1)):(se=bl(Ft(v)),se.c(),T(se,1),se.m(d,_)):se&&(Ke(),N(se,1,1,()=>{se=null}),Je()),(!Se||K[0]&2&&!mt(g.src,$=`https://ui-avatars.com/api/?name=${encodeURIComponent(((_t=v[1].currentUser)==null?void 0:_t.email)||"User")}&background=7C3AED&color=fff`))&&a(g,"src",$),(!Se||K[0]&2)&&V!==(V=((nt=v[1].currentUser)==null?void 0:nt.email)+"")&&be(P,V),(!Se||K[0]&2)&&fe!==(fe=(((ot=v[1].currentVenue)==null?void 0:ot.venue_name)||"No venue selected")+"")&&be(j,fe),v[5]?me?me.p(v,K):(me=wl(v),me.c(),me.m(ee,null)):me&&(me.d(1),me=null);let Ue=Q;Q=Jt(v),Q===Ue?Fe[Q].p(v,K):(Ke(),N(Fe[Ue],1,1,()=>{Fe[Ue]=null}),Je(),B=Fe[Q],B?B.p(v,K):(B=Fe[Q]=Wt[Q](v),B.c()),T(B,1),B.m(A,$e)),(!Se||K[0]&128)&&Dt(J,"text-music-purple",v[7]);let Ge=ye;ye=Xt(v),ye!==Ge&&(Ke(),N(at[Ge],1,1,()=>{at[Ge]=null}),Je(),ke=at[ye],ke||(ke=at[ye]=Kt[ye](v),ke.c()),T(ke,1),ke.m(Ie,null)),v[8]==="one"?ge||(ge=$l(),ge.c(),ge.m(ve,null)):ge&&(ge.d(1),ge=null),(!Se||K[0]&256)&&Dt(ve,"text-music-purple",v[8]!=="none"),K[0]&64&&It(we,v[6]),(!Se||K[0]&64)&&be(Xe,v[6]),K[0]&1&&Pe.value!==v[0]&&It(Pe,v[0]);let ze=Ee;Ee=Zt(v),Ee===ze?Re[Ee].p(v,K):(Ke(),N(Re[ze],1,1,()=>{Re[ze]=null}),Je(),Ce=Re[Ee],Ce?Ce.p(v,K):(Ce=Re[Ee]=Yt[Ee](v),Ce.c()),T(Ce,1),Ce.m(st,null))},i(v){Se||(T(y.$$.fragment,v),T(se),T(B),T(m.$$.fragment,v),T(De.$$.fragment,v),T(ke),T(H.$$.fragment,v),T(Te.$$.fragment,v),T(Ve.$$.fragment,v),T(Ze.$$.fragment,v),T(tt.$$.fragment,v),T(rt.$$.fragment,v),T(Ce),Se=!0)},o(v){N(y.$$.fragment,v),N(se),N(B),N(m.$$.fragment,v),N(De.$$.fragment,v),N(ke),N(H.$$.fragment,v),N(Te.$$.fragment,v),N(Ve.$$.fragment,v),N(Ze.$$.fragment,v),N(tt.$$.fragment,v),N(rt.$$.fragment,v),N(Ce),Se=!1},d(v){v&&(f(e),f(r)),R(y),se&&se.d(),me&&me.d(),Fe[Q].d(),R(m),R(De),at[ye].d(),R(H),R(Te),ge&&ge.d(),R(Ve),R(Ze),R(tt),R(rt),Re[Ee].d(),jt=!1,kl(zt)}}}function ht(s){const e=Math.floor(s/60),r=s%60;return`${e}:${r.toString().padStart(2,"0")}`}function _r(s,e,r){let t,i,h,y,E,n,w,C,d;Tt(s,Me,m=>r(1,n=m)),Tt(s,ql,m=>r(2,w=m)),Tt(s,Ml,m=>r(22,C=m)),Tt(s,Al,m=>r(13,d=m)),Ol.queue();let _=!0,o=null,g=null,$="",b=75,D=!1,V="none",P=Ql();async function W(){try{const m=await P.getDefaultPlaylist();m&&(r(5,g={...m,tracks:typeof m.tracks=="string"?JSON.parse(m.tracks):m.tracks}),console.log("Loaded global default playlist:",m.name))}catch(m){console.error("Failed to load global default playlist:",m)}}async function S(){try{r(3,_=!0),r(4,o=null);const m=n.currentVenue;m&&m.active_queue?console.log("Loaded queue from venue:",m.venue_name,{queue:m.active_queue}):console.warn("No venue available to load queue from")}catch(m){console.error("Failed to load queue from venue:",m),r(4,o="Failed to load queue from venue.")}finally{r(3,_=!1)}}function ee(m){if(m.isConnected)switch(n.playerState.status){case"playing":return{icon:_l,text:"CONNECTED, PLAYING",class:"status-connected-playing"};case"paused":return{icon:_l,text:"CONNECTED, PAUSED",class:"status-connected-paused"};default:return{icon:Zl,text:"CONNECTED, IDLE",class:"status-connected-paused"}}else return{icon:er,text:"DISCONNECTED",class:"status-disconnected"}}function O(m){Me.sendCommand("remove_from_queue",{trackId:m.video_id})}function te(m){m>0&&Me.sendCommand("reorder_queue",{fromIndex:m,toIndex:m-1})}function oe(m){m<t.length-1&&Me.sendCommand("reorder_queue",{fromIndex:m,toIndex:m+1})}function ae(m){console.log("ðŸŽµ Queue Manager: Request to play track:",m.title),Me.sendCommand("play_track",{track:m})}async function ce(){try{if(g){const m=g.tracks||[];Me.sendCommand("load_playlist_tracks",{tracks:m})}}catch(m){console.error("Failed to load global default playlist into queue:",m),r(4,o="Failed to load global default playlist.")}}Pl(async()=>{if(n.isLoading&&await new Promise(m=>{const F=Me.subscribe(pe=>{pe.isLoading||(F(),m(void 0))})}),!n.isAuthenticated){console.log("ðŸ” Queue Manager: User not authenticated, closing window"),alert("Authentication required. Please log in first."),window.close();return}if(jl.shouldPreventDuplicate()){alert("Queue Manager is already open in another window."),window.close();return}Ll.initializeForWindow(),await W(),await Me.loadPlaylists(),n.currentUser&&await Me.loadUserVenues(n.currentUser.$id)}),Sl(()=>{});const fe=()=>S(),j=()=>r(7,D=!D),le=()=>Me.sendCommand(i?"pause":"play"),re=()=>{r(8,V=V==="none"?"all":V==="all"?"one":"none")};function de(){b=Ul(this.value),r(6,b)}function M(){$=this.value,r(0,$)}const A=()=>S(),I=m=>ae(m),U=m=>ae(m),ie=(m,F)=>F.key==="Enter"||F.key===" "?ae(m):null,Q=m=>te(m),B=m=>oe(m),$e=m=>O(m),q=()=>S(),J=()=>r(0,$="");return s.$$.update=()=>{s.$$.dirty[0]&2&&r(21,t=n.activeQueue||[]),s.$$.dirty[0]&4194304&&r(12,i=C.canPause),s.$$.dirty[0]&2&&r(11,h=n.playerState.position||0),s.$$.dirty[0]&4&&r(10,y=(w==null?void 0:w.duration)||0),s.$$.dirty[0]&2&&n.currentVenue&&S(),s.$$.dirty[0]&2097153&&r(9,E=t.filter(m=>m.title.toLowerCase().includes($.toLowerCase())||m.artist.toLowerCase().includes($.toLowerCase())))},[$,n,w,_,o,g,b,D,V,E,y,h,i,d,S,ee,O,te,oe,ae,ce,t,C,fe,j,le,re,de,M,A,I,U,ie,Q,B,$e,q,J]}class Mr extends Il{constructor(e){super(),Tl(this,e,_r,vr,Vl,{},null,[-1,-1])}}export{Mr as component};
